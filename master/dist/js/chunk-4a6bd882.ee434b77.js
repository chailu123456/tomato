(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4a6bd882"],{"174b":function(e,r,t){"use strict";t("4fdd")},"4fdd":function(e,r,t){},a64c:function(e,r,t){"use strict";t.r(r);var n=t("1da1"),a=t("5530"),u=(t("96cf"),t("7a23")),c=t("da73"),s=t("afbc"),i={class:"rp"},o={key:0,class:"rp"},p={key:0,style:{width:"100px",height:"100px",display:"inline-block"}},b={class:"rp-text"},f=["src"],l=Object(u.defineComponent)(Object(a.a)(Object(a.a)({},{name:"preview"}),{},{setup:function(e){var r,t=Object(c.a)().useGetDeamdDetails,a=Object(u.ref)(""),l=Object(u.ref)("正在加载中..."),v=Object(u.ref)(),d=Object(u.ref)(!0);Object(u.onMounted)(Object(n.a)(regeneratorRuntime.mark((function e(){var r,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.a.currentRoute.value.query.id,t=parseInt(r),d.value=!0,!t||isNaN(t)){e.next=8;break}return e.next=6,m(t);case 6:O(),setTimeout((function(){d.value=!1}),500);case 8:case"end":return e.stop()}}),e)}))));var m=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(n){var u,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({id:n});case 2:(u=e.sent)?(v.value=u,document.title=u.title,!a.value&&u.preview_url?a.value=u.preview_url:0===(null===(c=v.value)||void 0===c?void 0:c.is_unpacked)&&2!==(null===(s=v.value)||void 0===s?void 0:s.type)?(r&&clearTimeout(r),r=setTimeout((function(){m(n)}),5e3)):O()):l.value="加载失败，请刷新重试";case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),O=function(){if(v.value){var e=v.value,r=e.is_unpacked,t=e.type;switch(r){case 0:1===t||4===t?l.value="文件解析中，大约需要30s，正在解析中...":window.location.href="/noAccess";break;case 2:l.value=1===t?"RP文件解析失败，请重新上传，或修改文件类别为“其他文件”":"压缩包解压失败，请重新上传，或修改文件类别为“其他文件”";break;case 3:l.value="压缩包未包含index.html或start.html，请重新上传，或修改文件类别为“其他文件”"}}};return Object(u.onUnmounted)((function(){r&&clearTimeout(r)})),function(e,r){var t,n=Object(u.resolveComponent)("el-empty"),c=Object(u.resolveDirective)("loading");return Object(u.withDirectives)((Object(u.openBlock)(),Object(u.createElementBlock)("div",i,[d.value?Object(u.createCommentVNode)("",!0):(Object(u.openBlock)(),Object(u.createElementBlock)("div",o,[a.value?(Object(u.openBlock)(),Object(u.createElementBlock)("iframe",{key:1,frameborder:"no",scrolling:"no",style:{width:"100vw",height:"100vh"},src:a.value,allowtransparency:!0},null,8,f)):(Object(u.openBlock)(),Object(u.createBlock)(n,{key:0,imageSize:0===(null===(t=v.value)||void 0===t?void 0:t.is_unpacked)?.1:""},{default:Object(u.withCtx)((function(){var e;return[0===(null===(e=v.value)||void 0===e?void 0:e.is_unpacked)?Object(u.withDirectives)((Object(u.openBlock)(),Object(u.createElementBlock)("span",p,null,512)),[[c,!0]]):Object(u.createCommentVNode)("",!0),Object(u.createElementVNode)("span",b,Object(u.toDisplayString)(l.value),1)]})),_:1},8,["imageSize"]))]))])),[[c,d.value]])}}})),v=(t("174b"),t("6b0d"));const d=t.n(v)()(l,[["__scopeId","data-v-753da8ce"]]);r.default=d},da73:function(e,r,t){"use strict";t.d(r,"a",(function(){return i}));var n=t("3835"),a=t("1da1"),u=(t("96cf"),t("38d1")),c=t("81ab"),s=t("d257");function i(){var e=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.B,args:r});case 2:if(t=e.sent,a=Object(n.a)(t,2),c=a[0],i=a[1],!c&&i){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),r=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.c,args:r,needCode:!0});case 2:if(t=e.sent,a=Object(n.a)(t,1),"number"!=typeof(c=a[0])){e.next=9;break}return e.abrupt("return",200===c);case 9:if(!c){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),t=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.C,args:r});case 2:if(t=e.sent,a=Object(n.a)(t,2),c=a[0],i=a[1],!c&&i){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,u,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:c.E,args:r});case 2:if(t=e.sent,a=Object(n.a)(t,2),u=a[0],i=a[1],!u&&i){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),o=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.T,args:r});case 2:if(t=e.sent,a=Object(n.a)(t,2),c=a[0],i=a[1],!c&&i){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.W,args:r,needCode:!0});case 2:if(t=e.sent,a=Object(n.a)(t,1),"number"!=typeof(c=a[0])){e.next=9;break}return e.abrupt("return",200===c);case 9:if(!c){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),b=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.k,args:r,needCode:!0});case 2:if(t=e.sent,a=Object(n.a)(t,1),"number"!=typeof(c=a[0])){e.next=9;break}return e.abrupt("return",200===c);case 9:if(!c){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.r,args:r,needCode:!0});case 2:if(t=e.sent,a=Object(n.a)(t,1),"number"!=typeof(c=a[0])){e.next=9;break}return e.abrupt("return",200===c);case 9:if(!c){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.b,args:r,needCode:!0});case 2:if(t=e.sent,a=Object(n.a)(t,1),"number"!=typeof(c=a[0])){e.next=9;break}return e.abrupt("return",200===c);case 9:if(!c){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.n,args:r,needCode:!0});case 2:if(t=e.sent,a=Object(n.a)(t,1),"number"!=typeof(c=a[0])){e.next=9;break}return e.abrupt("return",200===c);case 9:if(!c){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.m,args:r});case 2:if(t=e.sent,a=Object(n.a)(t,2),c=a[0],i=a[1],!c&&i){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),m=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.O,args:r});case 2:if(t=e.sent,a=Object(n.a)(t,2),c=a[0],i=a[1],!c&&i){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return{useGetDeamdDetails:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:u.A,args:r});case 2:if(t=e.sent,a=Object(n.a)(t,2),c=a[0],i=a[1],!c&&i){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getDocList:e,useAddDemandDoc:r,getTreeDocList:t,deleteDemandDoc:p,updateDemandDoc:f,useAddChildDemandDoc:l,useGetDocLog:d,deletePlanDoc:b,useGetUrlTitle:m,getTreeRlativeDoc:i,updateRelativeDoc:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(r){var t,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.w)({asyncFunc:c.N,args:r,needCode:!0});case 2:if(t=e.sent,a=Object(n.a)(t,1),"number"!=typeof(u=a[0])){e.next=9;break}return e.abrupt("return",200===u);case 9:if(!u){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getPlanRelativeDoc:o,useDemandPlanRelativeAdd:v}}}}]);