(window.webpackJsonp=window.webpackJsonp||[]).push([["allOverview"],{"23a3":function(e,t,n){},"6c5e":function(e,t,n){"use strict";n("fed4")},"795a":function(e,t,n){"use strict";n.r(t),n("b0c0");var a=n("7a23"),c=function(e){return Object(a.pushScopeId)("data-v-37325b5a"),e=e(),Object(a.popScopeId)(),e},r=["onClick"],l={key:0},o={key:0},i=Object(a.createTextVNode)(" 成员： "),s={key:0},u={style:{"font-size":"14px"}},b=Object(a.createTextVNode)(") "),d=c((function(){return Object(a.createElementVNode)("span",null,"●",-1)})),m=Object(a.createTextVNode)("   "),p={class:"flex-layout"},O=c((function(){return Object(a.createElementVNode)("span",null,"节点时间",-1)})),j={style:{"padding-top":"10px"}},f={class:"overview-span"},h={class:"overview-span"},w={class:"overview-span"},g=n("5530"),v=n("1da1"),C=(n("96cf"),n("7db0"),n("81ab"));function N(){return V.apply(this,arguments)}function V(){return(V=Object(v.a)(regeneratorRuntime.mark((function e(){var t,n,a,c,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,n=r.length>1&&void 0!==r[1]?r[1]:20,a=r.length>2?r[2]:void 0,e.next=5,Object(C.w)(Object(g.a)(Object(g.a)({},a),{},{pageIndex:t,pageSize:n}));case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=n("d257"),S=n("913c"),k=n("bb3b"),x=n("6c02"),y=n("1edc"),E=n("6669"),T=Object(a.defineComponent)({name:"allOverview",components:{IterationTip:y.a},setup:function(){var e=Object(a.ref)(!1),t=Object(a.ref)(),n=Object(a.reactive)({name:"",status:[],product_id:""}),c=Object(x.f)(),r=Object(a.computed)((function(){return function(e){return e.complete_percent-e.time_percent}})),l=Object(k.a)(N,n),o=l.getData,i=l.tableData,s=l.stopAutoGetData,u=l.currentPage,b=function(){var e=Object(v.a)(regeneratorRuntime.mark((function e(a,c){var r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==c){e.next=2;break}return e.abrupt("return");case 2:return u.value=a&&a.pageIndex||1,e.next=5,o(t.value.getCurrentPage(),!0,n);case 5:s.value=!1,r=document.getElementsByClassName("content")[0],l=document.getElementsByClassName("search-header")[0],t.value.height=r.offsetHeight-l.offsetHeight-130;case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(E.a)(b,(function(e){n.product_id=e,b()}));var d=function(){var e=document.querySelector(".main");e&&(e.classList.contains("isFullScreen")?e.classList.remove("isFullScreen"):e.classList.add("isFullScreen"))};return Object(g.a)(Object(g.a)({curStatus:r,isFullScreen:e,getTextColor:function(e){var t=_.o.find((function(t){return t.value===e}));return{color:null==t?void 0:t.color}},getStatus:function(e){var t=_.o.find((function(t){return t.value===e}));return null==t?void 0:t.label},getData:o,handleShowDetail:function(e){S.f.demand=e,c.push({name:"homepage"})},progressNode:function(e){var t=e.plan?e.plan.create_time:"";return[{time:t,realTime:t},{time:e.dev_time,realTime:e.real_dev_time},{time:e.union_time,realTime:e.real_union_time},{time:e.test_time,realTime:e.real_test_time},{time:e.release_time,realTime:e.real_release_time}]},handleConditionSearch:b,STATUS:_.o},Object(a.toRefs)(i)),{},{searchParams:n,pageTableRef:t,handleClear:function(){n.name="",b()},handleStatus:function(e){e.length||(n.status=[],b())},handleFullscreen:function(){Object(_.I)((function(e){d()})),e.value=!0,d(),Object(_.P)()},tableRowClassName:function(e){var t=e.row;return 0===t.status?"no-start":6===t.status||7===t.status?"has-end":"to-do"},currentPage:u})}}),B=(n("6c5e"),n("8acc"),n("6b0d"));const D=n.n(B)()(T,[["render",function(e,t,n,c,g,v){var C=Object(a.resolveComponent)("el-input"),N=Object(a.resolveComponent)("el-form-item"),V=Object(a.resolveComponent)("el-option"),_=Object(a.resolveComponent)("el-select"),S=Object(a.resolveComponent)("el-form"),k=Object(a.resolveComponent)("el-table-column"),x=Object(a.resolveComponent)("iteration-tip"),y=Object(a.resolveComponent)("progress-bar"),E=Object(a.resolveComponent)("page-table");return Object(a.openBlock)(),Object(a.createElementBlock)("div",{class:Object(a.normalizeClass)(["overview",{isFullScreen:e.isFullScreen}]),id:"overview"},[Object(a.createVNode)(E,{tableData:e.list,currentPage:e.currentPage,tableRowClassName:e.tableRowClassName,onHandlePagationChange:e.getData,total:e.total,ref:"pageTableRef"},{header:Object(a.withCtx)((function(){return[Object(a.createVNode)(S,{inline:!0,model:e.searchParams},{default:Object(a.withCtx)((function(){return[Object(a.createVNode)(N,{label:"迭代名称"},{default:Object(a.withCtx)((function(){return[Object(a.createVNode)(C,{modelValue:e.searchParams.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchParams.name=t}),onClear:e.handleClear,onKeyup:Object(a.withKeys)(e.handleConditionSearch,["enter"]),clearable:"",placeholder:"请输入迭代名称"},null,8,["modelValue","onClear","onKeyup"])]})),_:1}),Object(a.createVNode)(N,{label:"状态"},{default:Object(a.withCtx)((function(){return[Object(a.createVNode)(_,{modelValue:e.searchParams.status,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchParams.status=t}),placeholder:"请选择",onChange:e.handleStatus,clearable:"",multiple:"","collapse-tags":"",onVisibleChange:e.handleConditionSearch,onRemoveTag:e.handleConditionSearch},{default:Object(a.withCtx)((function(){return[(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(e.STATUS,(function(e){return Object(a.openBlock)(),Object(a.createBlock)(V,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange","onVisibleChange","onRemoveTag"])]})),_:1})]})),_:1},8,["model"]),Object(a.createElementVNode)("span",{class:"fullscreen-icon iconfont icon-fullscreen",onClick:t[2]||(t[2]=function(){return e.handleFullscreen&&e.handleFullscreen.apply(e,arguments)})})]})),main:Object(a.withCtx)((function(){return[Object(a.createVNode)(k,{prop:"name",label:"版本名称",fixed:"left","class-name":"table-column-left","min-width":"120"},{default:Object(a.withCtx)((function(t){return[Object(a.createElementVNode)("span",{class:"version__color",onClick:function(n){return e.handleShowDetail(t.row.id)}},Object(a.toDisplayString)(t.row.name),9,r)]})),_:1}),Object(a.createVNode)(k,{label:"迭代内容","class-name":"table-column-left",fixed:"left","min-width":"200"},{default:Object(a.withCtx)((function(e){return[(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(e.row.demand,(function(t,n){return Object(a.openBlock)(),Object(a.createElementBlock)("div",{key:n},[e.row.demand.length>1?(Object(a.openBlock)(),Object(a.createElementBlock)("span",l,Object(a.toDisplayString)(n+1)+"、",1)):Object(a.createCommentVNode)("",!0),Object(a.createElementVNode)("span",null,Object(a.toDisplayString)(t.name),1)])})),128))]})),_:1}),Object(a.createVNode)(k,{label:"成员",width:"170","class-name":"table-column-left"},{default:Object(a.withCtx)((function(e){return[Object(a.createElementVNode)("div",null,"产品负责人："+Object(a.toDisplayString)(e.row.iteration_manager.staff_name),1),e.row.user_list.length?(Object(a.openBlock)(),Object(a.createElementBlock)("div",o,[i,(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(e.row.user_list,(function(t,n){return Object(a.openBlock)(),Object(a.createElementBlock)("span",{key:n},[Object(a.createTextVNode)(Object(a.toDisplayString)(t.staff_name)+" ",1),n!==e.row.user_list.length-1?(Object(a.openBlock)(),Object(a.createElementBlock)("span",s,"，")):Object(a.createCommentVNode)("",!0)])})),128))])):Object(a.createCommentVNode)("",!0)]})),_:1}),Object(a.createVNode)(k,{label:"迭代进度",width:"140"},{default:Object(a.withCtx)((function(t){return[Object(a.createElementVNode)("span",u,[Object(a.createTextVNode)(Object(a.toDisplayString)(t.row.complete_percent)+"%( ",1),Object(a.createElementVNode)("span",{class:Object(a.normalizeClass)([e.curStatus(t.row)>=0?"percent percent-green":"percent percent-red"])},Object(a.toDisplayString)(e.curStatus(t.row)>=0?"提前":"落后")+Object(a.toDisplayString)(Math.abs(e.curStatus(t.row)))+"%",3),b])]})),_:1}),Object(a.createVNode)(k,{prop:"status",label:"状态",width:"120","class-name":"table-column-center"},{default:Object(a.withCtx)((function(t){return[Object(a.createElementVNode)("div",{style:Object(a.normalizeStyle)(e.getTextColor(t.row.status))},[d,m,Object(a.createElementVNode)("span",null,Object(a.toDisplayString)(e.getStatus(t.row.status)),1)],4)]})),_:1}),Object(a.createVNode)(k,{prop:"node",label:"节点时间",resizable:!1,width:"320"},{header:Object(a.withCtx)((function(){return[Object(a.createElementVNode)("div",p,[O,Object(a.createVNode)(x)])]})),default:Object(a.withCtx)((function(t){return[Object(a.createElementVNode)("div",j,[Object(a.createVNode)(y,{isShowStart:!1,status:t.row.stage,dataTime:e.progressNode(t.row),class:"progress-padding"},null,8,["status","dataTime"])])]})),_:1}),Object(a.createVNode)(k,{"class-name":"table-column-left",prop:"last_week_summary",label:"上周总结","min-width":"180"},{default:Object(a.withCtx)((function(e){return[Object(a.createElementVNode)("span",f,Object(a.toDisplayString)(e.row.last_week_summary||"无"),1)]})),_:1}),Object(a.createVNode)(k,{"class-name":"table-column-left",prop:"week_plan",label:"本周计划","min-width":"180"},{default:Object(a.withCtx)((function(e){return[Object(a.createElementVNode)("span",h,Object(a.toDisplayString)(e.row.week_plan||"无"),1)]})),_:1}),Object(a.createVNode)(k,{label:"备注","class-name":"table-column-left",width:"160"},{default:Object(a.withCtx)((function(e){return[Object(a.createElementVNode)("span",w,Object(a.toDisplayString)(e.row.warning||"无"),1)]})),_:1})]})),_:1},8,["tableData","currentPage","tableRowClassName","onHandlePagationChange","total"])],2)}],["__scopeId","data-v-37325b5a"]]);t.default=D},"8acc":function(e,t,n){"use strict";n("23a3")},fed4:function(e,t,n){}}]);