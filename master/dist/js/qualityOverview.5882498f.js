(window.webpackJsonp=window.webpackJsonp||[]).push([["qualityOverview"],{"0769":function(e,t,n){"use strict";n("e122")},1636:function(e,t,n){"use strict";n("d882")},1825:function(e,t,n){},3496:function(e,t,n){"use strict";var a=n("5530"),r=n("7a23"),c=n("5a0c"),o=n.n(c),i=n("2a04"),u=n.n(i),l={key:0,class:"week-items"},s={class:"week-items__title"},d={key:0,class:"week-items__body"},p={class:"week-items__body-side"},b=Object(r.createTextVNode)(" 周计划： "),m=["innerHTML"],f={key:1,class:"week-items__body-side__empty"},j={class:"week-items__body-side"},O=Object(r.createTextVNode)(" 周总结： "),v=["innerHTML"],_={key:1,class:"week-items__body-side__empty"};o.a.extend(u.a);var h=Object(r.defineComponent)(Object(a.a)(Object(a.a)({},{name:"week-items"}),{},{props:{item:null},setup:function(e){var t=e,n=Object(r.computed)((function(){return t.item.start_date?o()(t.item.start_date).week():""})),a=Object(r.computed)((function(){return o()(t.item.start_date).format("YYYY")}));return function(t,c){var o=Object(r.resolveComponent)("el-empty");return e.item.start_date?(Object(r.openBlock)(),Object(r.createElementBlock)("div",l,[Object(r.createElementVNode)("span",s,Object(r.toDisplayString)(Object(r.unref)(a))+"第"+Object(r.toDisplayString)(Object(r.unref)(n))+"周（"+Object(r.toDisplayString)(e.item.start_date)+"-"+Object(r.toDisplayString)(e.item.end_date)+"）",1),e.item.is_fill?(Object(r.openBlock)(),Object(r.createElementBlock)("div",d,[Object(r.createElementVNode)("div",p,[b,e.item.plan?(Object(r.openBlock)(),Object(r.createElementBlock)("div",{key:0,class:"week-items__body-side__val",innerHTML:e.item.plan},null,8,m)):(Object(r.openBlock)(),Object(r.createElementBlock)("div",f,[Object(r.createVNode)(o,{description:"未填写"})]))]),Object(r.createElementVNode)("div",j,[O,e.item.summary?(Object(r.openBlock)(),Object(r.createElementBlock)("div",{key:0,class:"week-items__body-side__val",innerHTML:e.item.summary},null,8,v)):(Object(r.openBlock)(),Object(r.createElementBlock)("div",_,[Object(r.createVNode)(o,{description:"未填写"})]))])])):(Object(r.openBlock)(),Object(r.createBlock)(o,{key:1,description:"未填写周报"}))])):Object(r.createCommentVNode)("",!0)}}}));n("1636");const g=h;t.a=g},"39d7":function(e,t,n){},5974:function(e,t,n){},6593:function(e,t,n){"use strict";n("1825")},7057:function(e,t,n){"use strict";n("5974")},"71ee":function(e,t,n){"use strict";var a=n("7a23"),r=n("d257"),c=Object(a.defineComponent)({props:{fullscreen:{type:Boolean,default:!1}},emits:["update:fullscreen"],setup:function(e,t){var n=t.emit,c=e,o=function(){return Object(a.createVNode)("span",{class:"fullscreen-icon-global iconfont icon-fullscreen",onClick:i},null)},i=function(){n("update:fullscreen",!c.fullscreen),Object(r.P)(),Object(r.I)((function(e){n("update:fullscreen",e)}))};return function(e,t){return Object(a.openBlock)(),Object(a.createBlock)(o)}}}),o=(n("9a6d"),n("6b0d"));const i=n.n(o)()(c,[["__scopeId","data-v-d63bdac2"]]);t.a=i},"867b":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("1da1"),r=(n("96cf"),n("81ab"));function c(){return function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.p)({product_id:t,status:-1});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},"91fe":function(e,t,n){"use strict";n.r(t),n("b64b");var a=n("7a23"),r=function(e){return Object(a.pushScopeId)("data-v-e482ac72"),e=e(),Object(a.popScopeId)(),e},c={class:"search-header"},o=["onClick"],i=r((function(){return Object(a.createElementVNode)("span",{style:{display:"inline-block","margin-right":"2px"}},"●",-1)})),u={key:1,class:"percent percent-red"},l=Object(a.createTextVNode)(" ) "),s={class:"overview-span"},d={class:"flex-layout",style:{display:"inline-block",margin:"0 4px 0 0"}},p=r((function(){return Object(a.createElementVNode)("span",null,"任务准点率",-1)})),b={class:"overview-span"},m={class:"overview-span"},f={class:"overview-span"},j={class:"overview-span"},O={class:"flex-layout",style:{}},v=r((function(){return Object(a.createElementVNode)("span",null,"缺陷密度",-1)})),_={class:"overview-span"},h={class:"flex-layout",style:{display:"inline-block",margin:"0 4px 0 0"}},g=r((function(){return Object(a.createElementVNode)("span",null,"迭代节点",-1)})),y=Object(a.createTextVNode)("内容周报"),k=Object(a.createTextVNode)("查看成员"),w={class:"rp-test-list-num"},N={class:"rp-test-num"},x={key:0,class:"table-show-msg"},D={key:0,class:"quality-table-page"},C={class:"calendar-title__text"},V={style:{"font-size":"12px"},class:"rp-test-num"},S=Object(a.createTextVNode)("本月共迭代 "),E={style:{color:"rgb(230, 162, 60)"}},I=Object(a.createTextVNode)("，其中"),B={style:{color:"rgb(31, 159, 133)"}},P=Object(a.createTextVNode)("， "),R={style:{color:"#7fad0a"}},T=Object(a.createTextVNode)("，"),q={style:{color:"#ff4c4b"}},M=Object(a.createTextVNode)("，"),L={style:{color:"rgb(230, 162, 60)"}},A=n("1da1"),Y=(n("ac1f"),n("1276"),n("d81d"),n("7db0"),n("b0c0"),n("5319"),n("96cf"),n("5530")),F=n("aee8");function z(){return G.apply(this,arguments)}function G(){return(G=Object(A.a)(regeneratorRuntime.mark((function e(){var t,n,a,r,c,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:1,n=o.length>1&&void 0!==o[1]?o[1]:10,5!==(a=o.length>2?o[2]:void 0).page_size){e.next=10;break}return e.next=6,Object(F.c)(Object(Y.a)({},a));case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.next=12,Object(F.c)(Object(Y.a)(Object(Y.a)({},a),{},{pageIndex:t,pageSize:n}));case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=n("d257"),J=n("bb3b"),U=n("6c02"),W=n("1edc"),K=n("913c"),Q=n("a8c1"),X=n("3496"),Z=function(e){return Object(a.pushScopeId)("data-v-145c224e"),e=e(),Object(a.popScopeId)(),e},$={class:"rp-report-dialog"},ee={class:"report-intertion"},te=Z((function(){return Object(a.createElementVNode)("p",{class:"report-title"},"迭代内容",-1)})),ne={key:0},ae={style:{color:"#333"}},re={class:"a"},ce=Z((function(){return Object(a.createElementVNode)("p",{class:"report-title"},"迭代周报",-1)})),oe={class:"report-week-list"},ie={class:"dialog-footer"},ue=Object(a.createTextVNode)("关 闭"),le=Object(a.defineComponent)({props:{visible:{type:Boolean,default:!1},iteration:{type:Object,default:function(){return{}}}},emits:["update:visible"],setup:function(e,t){var n=t.emit,r=e,c=Object(a.ref)(null),o=Object(a.ref)([]),i=Object(Q.a)().getWeekReportsList,u=Object(a.computed)({get:function(){return r.visible},set:function(e){n("update:visible",e)}}),l=function(){var e=Object(A.a)(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return n=e.sent,c.value=n||[],e.next=6,Object(F.a)({iteration_id:t});case 6:(a=e.sent).data?o.value=a.data:o.value=[];case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.watch)((function(){return r.iteration.id}),(function(){l(r.iteration.id)}),{immediate:!0}),function(t,n){var r=Object(a.resolveComponent)("el-scrollbar"),i=Object(a.resolveComponent)("el-empty"),l=Object(a.resolveComponent)("el-button"),s=Object(a.resolveComponent)("el-dialog");return Object(a.openBlock)(),Object(a.createBlock)(s,{title:e.iteration.name,modelValue:Object(a.unref)(u),"onUpdate:modelValue":n[1]||(n[1]=function(e){return Object(a.isRef)(u)?u.value=e:null}),top:"6vh",width:"50%"},{footer:Object(a.withCtx)((function(){return[Object(a.createElementVNode)("span",ie,[Object(a.createVNode)(l,{onClick:n[0]||(n[0]=function(e){return u.value=!1})},{default:Object(a.withCtx)((function(){return[ue]})),_:1})])]})),default:Object(a.withCtx)((function(){return[Object(a.createElementVNode)("div",$,[Object(a.createElementVNode)("div",ee,[te,o.value.length?(Object(a.openBlock)(),Object(a.createElementBlock)("div",ne,[Object(a.createVNode)(r,{"max-height":"240px"},{default:Object(a.withCtx)((function(){return[(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(o.value,(function(e){return Object(a.openBlock)(),Object(a.createElementBlock)("ol",{class:"iteration-list",key:e.name},[Object(a.createElementVNode)("li",ae,[Object(a.createElementVNode)("span",null,Object(a.toDisplayString)(e.name),1),(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(e.child_list,(function(e){return Object(a.openBlock)(),Object(a.createElementBlock)("ol",{key:e.name},[Object(a.createElementVNode)("div",re,Object(a.toDisplayString)(e.name),1)])})),128))])])})),128))]})),_:1})])):(Object(a.openBlock)(),Object(a.createBlock)(i,{key:1,description:"暂无迭代内容"}))]),ce,Object(a.createElementVNode)("div",oe,[(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(c.value,(function(e){return Object(a.openBlock)(),Object(a.createBlock)(X.a,{item:e,key:e.iteration_id},null,8,["item"])})),128))])])]})),_:1},8,["title","modelValue"])}}}),se=(n("e6e8"),n("7057"),n("6b0d")),de=n.n(se),pe=de()(le,[["__scopeId","data-v-145c224e"]]),be=n("edb3"),me=n("71ee"),fe=n("5a0c"),je=n.n(fe),Oe=n("0a56"),ve=Object(a.defineComponent)({name:"qualityOverview",components:{IterationTip:W.a,ReportContent:pe,FullScreen:me.a},props:{head:{type:Boolean,default:function(){return!0}},page:{type:Boolean,default:function(){return!1}},searchCriteria:{type:Object,default:function(){return{}}}},setup:function(e,t){var n=t.emit,r=Object(K.e)().productLists,c=Object(a.ref)(!1),o=Object(a.ref)(!1),i=Object(a.ref)(),u=Object(H.G)("user",!0),l=Object(a.ref)(1),s=Object(a.ref)("-1"),d=Object(a.ref)({name:"",status:[],times:[],product_id:[],end_time:"",start_time:"",sort_name:"status",sort_by:1,page_size:20,page_index:1,month:"",staff_no:"",demand_id:0}),p={name:"",status:[],times:[],product_id:[],end_time:"",start_time:"",sort_name:"status",sort_by:1,page_size:20,page_index:1,month:"",staff_no:"",demand_id:0},b=Object(U.f)(),m=Object(U.e)(),f=Object(a.reactive)([{text:"最近一周",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:"最近一个月",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:"最近三个月",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}}]),j=Object(Oe.a)(),O=j.useGetMultipleProductStaffList,v=j.useInitGetProductList,_=j.boardBaseRt,h=j.disabledDate,g=j.useGetMultipleProductDemandList,y=Object(J.a)(z,d.value),k=y.getData,w=y.tableData,N=y.stopAutoGetData,x=y.currentPage;Object(a.watch)((function(){return _.currentProIds}),(function(e){e&&e.length&&(d.value.product_id=e,Object(a.nextTick)((function(){B(),S()})))}),{deep:!0,immediate:!0});var D=Object(a.computed)((function(){return function(e){return e.complete_percent-e.time_percent}})),C=Object(a.ref)([]),V=Object(a.ref)([]),S=function(){var e=Object(A.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.currentProIds.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,O({product_id:_.currentProIds});case 4:return(t=e.sent)&&(C.value=t,R.searchForm[2].listData=t),e.next=8,g({product_id:_.currentProIds});case 8:(n=e.sent)&&(V.value=n,R.searchForm[3].listData=V.value);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e,t){var n,a,r=null==e||null===(n=e.split(","))||void 0===n?void 0:n.map((function(e){return parseInt(e)})),c=null==t||null===(a=t.split(","))||void 0===a?void 0:a.map((function(e){return parseInt(e)}));Array.isArray(r)&&(_.currentProIds=r),Array.isArray(c)&&(_.currentGroupIds=c)};Object(a.onMounted)(Object(A.a)(regeneratorRuntime.mark((function t(){var n,a,r,c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:n=m.query,a=n.month,r=void 0===a?"":a,c=n.currentProIds,o=n.currentGroupIds,r?(s.value="99",E(c,o),d.value.start_time=je()(r).startOf("month").format("YYYY-MM-DD"),d.value.end_time=je()(r).endOf("month").format("YYYY-MM-DD"),d.value.times=[d.value.start_time,d.value.end_time]):_.currentProIds.length&&(d.value.product_id=_.currentProIds),Object.keys(e.searchCriteria).length&&!r||S(),k();case 6:case"end":return t.stop()}}),t)}))));var I,B=function(){var e=Object(A.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t){e.next=2;break}return e.abrupt("return");case 2:null===(n=i.value)||void 0===n||n.setCurrentPage(),x.value=1,clearTimeout(I),I=setTimeout(Object(A.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({pageIndex:1,pageSize:20},void 0,d.value);case 2:N.value=!1;case 3:case"end":return e.stop()}}),e)}))),600);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.nextTick)((function(){setTimeout((function(){var e=document.getElementsByClassName("content")[0],t=document.getElementsByClassName("search-header")[0];i.value.height=e.offsetHeight-t.offsetHeight-130}),500)}));var P=Object(a.reactive)({id:0,name:""});Object(a.watch)((function(){return e.searchCriteria}),(function(e){var t;e&&null!==(t=e.product_id)&&void 0!==t&&t.length&&(d.value.month=e.month,d.value.product_id=e.product_id,d.value.page_index=1,d.value.page_size=5,l.value=1,B(),setTimeout((function(){n("count",w.total)}),1e3))}),{deep:!0,immediate:!0}),Object(a.watch)((function(){return m.query}),(function(){var e=m.query,t=e.where,n=e.productId,a=e.currentProIds,r=e.currentGroupIds;if(t){var c,o,i=null==a||null===(c=a.split(","))||void 0===c?void 0:c.map((function(e){return parseInt(e)})),u=null==r||null===(o=r.split(","))||void 0===o?void 0:o.map((function(e){return parseInt(e)}));Array.isArray(i)&&(_.currentProIds=i),Array.isArray(u)&&(_.currentGroupIds=u),s.value="99",setTimeout((function(){b.replace({path:m.path,query:{productId:n,where:void 0,month:void 0}})}),700)}}));var R=Object(a.reactive)({btnArray:[{id:"-1",label:"所有",key:""},{id:"0,1,2,3,4,5,7,8",label:"未完成",key:"status"},{id:"6",label:"已发布",key:"status"},{id:null==u?void 0:u.staff_no,label:"我参与的",key:"staff_no"},{id:"99",label:"本月",key:"month"},{id:"999",label:"上月",key:"month"}],searchForm:[{type:"input",label:"名称",key:"name",val:""},{type:"select",label:"状态",multiple:!0,key:"status",val:[],listData:H.o},{type:"select",label:"成员",val:[],key:"staff_no",multiple:!1,valueKey:["staff_no","staff_name"],listData:[]},{type:"select",label:"关联需求",multiple:!1,val:"",key:"demand_id",valueKey:["id","name"],listData:[]},{type:"daterange",label:"时间",val:[],hasShortcuts:!0,key:"times",valueKey:[]}]}),T=function(){var e=Object(A.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.sort_by=d.value.sort_by,p.sort_name=d.value.sort_name,d.value=JSON.parse(JSON.stringify(p)),t.key&&("99"===t.id?d.value.month=je()().format("YYYY-MM"):"999"===t.id?d.value.month=je()().add(-1,"month").startOf("month").format("YYYY-MM"):"status"===t.key?d.value.status=t.id.split(","):"staff_no"===t.key&&(d.value.staff_no=t.id)),d.value.product_id=_.currentProIds,M(d.value);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(A.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in p.sort_by=d.value.sort_by,p.sort_name=d.value.sort_name,d.value=JSON.parse(JSON.stringify(p)),t)d.value[n]=t[n];t.times&&t.times.length?(d.value.start_time=t.times[0],d.value.end_time=t.times[1]):(d.value.start_time="",d.value.end_time=""),d.value.product_id=_.currentProIds,M(d.value);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(A.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.value.setCurrentPage(),k(i.value.getCurrentPage(),void 0,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{disabledDate:h,curStatus:D,isFullScreen:o,getTextColor:function(e){var t=H.o.find((function(t){return t.value===e}));return{color:null==t?void 0:t.color}},getStatus:function(e){var t=H.o.find((function(t){return t.value===e}));return null==t?void 0:t.label},getData:k,handleShowDetail:function(e){Object(be.b)(e,"homepage")},progressNode:function(e){var t=e.plan?e.plan.create_time:"";return[{time:t,realTime:t},{time:e.dev_time,realTime:e.real_dev_time},{time:e.union_time,realTime:e.real_union_time},{time:e.test_time,realTime:e.real_test_time},{time:e.release_time,realTime:e.real_release_time}]},handleConditionSearch:B,STATUS:H.o,tableData:w,searchParams:d,pageTableRef:i,handleClear:function(){d.value.name="",B()},handleStatus:function(e){e.length||(d.value.status=[],B())},tableRowClassName:function(e){var t=e.row;return t.is_delay&&6!==t.status&&7!==t.status&&0!==t.status?"is-delay":0===t.status?"no-start":6===t.status||7===t.status?"has-end":"to-do"},productLists:r,handleEndTime:function(e){e&&e.length?(d.value.start_time=e[0],d.value.end_time=e[1]):(d.value.start_time="",d.value.end_time=""),B()},handleLookReport:function(e){c.value=!0,P.id=e.iteration_id,P.name=e.version_name},isOpen:c,handleLookPeople:function(e){var t=b.resolve({path:"/lookBoard/personal/jobEvaluation",query:{productId:e.product_id,iterationId:e.iteration_id}}).href;window.open(t,"_blank")},currentIteration:P,sortChange:function(e){var t=e.prop,n=e.order;n&&(d.value.sort_name=t,d.value.sort_by="ascending"===n?1:2,k(i.value.getCurrentPage(),void 0,d.value))},shortcuts:f,changePage:function(e){if("prev"===e){if(1===l.value)return;--l.value}else{if(l.value===Math.ceil(w.allData.count/5))return;++l.value}d.value.page_index=l.value,B()},currentPage:x,showCurrentPage:l,searchArray:R,currentActive:s,quickSeacrh:T,changeSearch:q,pageGetData:function(e){d.value.page_size=e.pageSize,p.page_size=e.pageSize,k(i.value.getCurrentPage(),void 0,d.value)}}}});n("0769"),n("6593");const _e=de()(ve,[["render",function(e,t,n,r,A,Y){var F=Object(a.resolveComponent)("search-form"),z=Object(a.resolveComponent)("el-table-column"),G=Object(a.resolveComponent)("iteration-tip"),H=Object(a.resolveComponent)("progress-bar"),J=Object(a.resolveComponent)("el-button"),U=Object(a.resolveComponent)("page-table"),W=Object(a.resolveComponent)("FullScreen"),K=Object(a.resolveComponent)("ReportContent");return Object(a.openBlock)(),Object(a.createElementBlock)("div",{class:Object(a.normalizeClass)(["overview",{"table-auto-height":Object.keys(e.searchCriteria).length}]),id:"overview"},[Object(a.createVNode)(U,{tableData:e.tableData.list,hiddenPagation:e.page,onSortChange:e.sortChange,tableRowClassName:e.tableRowClassName,onHandlePagationChange:e.pageGetData,total:e.tableData.total,currentPage:e.currentPage,pageSize:20,className:"quality-table",ref:"pageTableRef",isFullScreen:e.isFullScreen},Object(a.createSlots)({main:Object(a.withCtx)((function(){return[Object(a.createVNode)(z,{prop:"product_name",fixed:"left",sortable:"custom",label:"项目"}),Object(a.createVNode)(z,{prop:"version_name",sortable:"custom",label:"迭代版本号 - 名称",fixed:"left","class-name":"table-column-left table-column-left1","min-width":"140"},{default:Object(a.withCtx)((function(t){return[Object(a.createElementVNode)("span",{class:"version__color",onClick:function(n){return e.handleShowDetail(t.row)}},Object(a.toDisplayString)(t.row.version_name),9,o)]})),_:1}),Object(a.createVNode)(z,{prop:"status",sortable:"custom",label:"状态","min-width":"70","class-name":"table-column-center"},{default:Object(a.withCtx)((function(t){return[Object(a.createElementVNode)("div",{style:Object(a.normalizeStyle)(e.getTextColor(t.row.status))},[i,Object(a.createElementVNode)("span",null,Object(a.toDisplayString)(e.getStatus(t.row.status)),1)],4)]})),_:1}),Object(a.createVNode)(z,{label:"进度",prop:"complete_percent",sortable:"custom","min-width":"140"},{default:Object(a.withCtx)((function(t){return[Object(a.createElementVNode)("span",null,[Object(a.createTextVNode)(Object(a.toDisplayString)(t.row.complete_percent)+"%( ",1),t.row.dev_time?(Object(a.openBlock)(),Object(a.createElementBlock)("span",{key:0,class:Object(a.normalizeClass)([e.curStatus(t.row)>=0?"percent percent-green":"percent percent-red"])},Object(a.toDisplayString)(e.curStatus(t.row)>=0?"提前":"落后")+Object(a.toDisplayString)(Math.abs(e.curStatus(t.row)))+"%",3)):(Object(a.openBlock)(),Object(a.createElementBlock)("span",u," 待排期 ")),l])]})),_:1}),Object(a.createVNode)(z,{sortable:"custom",prop:"task_hours","min-width":"100",label:"任务总工时"},{default:Object(a.withCtx)((function(e){return[Object(a.createElementVNode)("span",s,Object(a.toDisplayString)(e.row.task_hours),1)]})),_:1}),Object(a.createVNode)(z,{sortable:"custom",prop:"task_precision_rate","min-width":"130",label:"任务准点率"},{header:Object(a.withCtx)((function(){return[Object(a.createElementVNode)("div",d,[Object(a.createVNode)(G,{type:2}),p])]})),default:Object(a.withCtx)((function(e){return[Object(a.createElementVNode)("span",b,Object(a.toDisplayString)(e.row.task_hours?e.row.task_precision_rate+"%":"-"),1)]})),_:1}),Object(a.createVNode)(z,{sortable:"custom",prop:"task_average_hour","min-width":"110",label:"任务平均工时"},{default:Object(a.withCtx)((function(e){return[Object(a.createElementVNode)("span",m,Object(a.toDisplayString)(e.row.task_average_hour),1)]})),_:1}),Object(a.createVNode)(z,{sortable:"custom",prop:"apply_rejected_num","min-width":"100",label:"提测次数"},{default:Object(a.withCtx)((function(e){return[Object(a.createElementVNode)("span",f,Object(a.toDisplayString)(e.row.apply_rejected_num),1)]})),_:1}),Object(a.createVNode)(z,{sortable:"custom",prop:"bug_num","min-width":"80",label:"BUG数"},{default:Object(a.withCtx)((function(e){return[Object(a.createElementVNode)("span",j,Object(a.toDisplayString)(e.row.bug_num),1)]})),_:1}),Object(a.createVNode)(z,{sortable:"custom",prop:"defect_density","min-width":"120",label:"缺陷密度"},{header:Object(a.withCtx)((function(){return[Object(a.createElementVNode)("div",O,[Object(a.createVNode)(G,{type:3}),v])]})),default:Object(a.withCtx)((function(e){return[Object(a.createElementVNode)("span",_,Object(a.toDisplayString)(e.row.defect_density),1)]})),_:1}),Object(a.createVNode)(z,{prop:"real_dev_time",label:"迭代节点",resizable:!1,width:"320"},{header:Object(a.withCtx)((function(){return[Object(a.createElementVNode)("div",h,[Object(a.createVNode)(G),g])]})),default:Object(a.withCtx)((function(t){return[Object(a.createElementVNode)("div",null,[Object(a.createVNode)(H,{isShowStart:!1,status:t.row.stage,dataTime:e.progressNode(t.row),class:"progress-padding"},null,8,["status","dataTime"])])]})),_:1}),Object(a.createVNode)(z,{label:"操作",width:"140"},{default:Object(a.withCtx)((function(t){return[Object(a.createVNode)(J,{type:"primary",link:"",onClick:function(n){return e.handleLookReport(t.row)}},{default:Object(a.withCtx)((function(){return[y]})),_:2},1032,["onClick"]),Object(a.createVNode)(J,{type:"primary",link:"",onClick:function(n){return e.handleLookPeople(t.row)}},{default:Object(a.withCtx)((function(){return[k]})),_:2},1032,["onClick"])]})),_:1})]})),qucikSelect:Object(a.withCtx)((function(){return[Object(a.createElementVNode)("div",w,[Object(a.createElementVNode)("span",N,"共 "+Object(a.toDisplayString)(e.tableData.allData.count)+"个，其中 已发布 "+Object(a.toDisplayString)(e.tableData.allData.released_num)+"个，进行中 "+Object(a.toDisplayString)(e.tableData.allData.doing_num)+"个，延期 "+Object(a.toDisplayString)(e.tableData.allData.delay_num)+"个，迭代准点率 "+Object(a.toDisplayString)(e.tableData.allData.iteration_precision_rate)+"%，缺陷密度 "+Object(a.toDisplayString)(e.tableData.allData.defect_density),1)])]})),_:2},[e.head?{name:"header",fn:Object(a.withCtx)((function(){return[Object(a.createElementVNode)("div",c,[Object(a.createVNode)(F,{searchArray:e.searchArray,ref:"taskFormParams",currentActive:e.currentActive,onQuickSeacrh:e.quickSeacrh,onChangeSearch:e.changeSearch},null,8,["searchArray","currentActive","onQuickSeacrh","onChangeSearch"])])]}))}:void 0]),1032,["tableData","hiddenPagation","onSortChange","tableRowClassName","onHandlePagationChange","total","currentPage","isFullScreen"]),e.head?Object(a.createCommentVNode)("",!0):(Object(a.openBlock)(),Object(a.createElementBlock)("div",x,[Math.ceil(e.tableData.allData.count/5)?(Object(a.openBlock)(),Object(a.createElementBlock)("div",D,[Object(a.createElementVNode)("i",{onClick:t[0]||(t[0]=function(t){return e.changePage("prev")}),class:"iconfont icon-arrowup"}),Object(a.createElementVNode)("span",C,Object(a.toDisplayString)(e.showCurrentPage)+" / "+Object(a.toDisplayString)(Math.ceil(e.tableData.allData.count/5)),1),Object(a.createElementVNode)("i",{onClick:t[1]||(t[1]=function(t){return e.changePage("next")}),class:"iconfont icon-arrowdown"})])):Object(a.createCommentVNode)("",!0),Object(a.createElementVNode)("span",V,[S,Object(a.createElementVNode)("i",E,Object(a.toDisplayString)(e.tableData.allData.count)+"个",1),I,Object(a.createElementVNode)("i",B,"已发布 "+Object(a.toDisplayString)(e.tableData.allData.released_num)+"个 ",1),P,Object(a.createElementVNode)("i",R," 进行中 "+Object(a.toDisplayString)(e.tableData.allData.doing_num)+"个",1),T,Object(a.createElementVNode)("i",q,"延期 "+Object(a.toDisplayString)(e.tableData.allData.delay_num)+"个",1),M,Object(a.createElementVNode)("i",L,"迭代准点率 "+Object(a.toDisplayString)(e.tableData.allData.iteration_precision_rate)+"%，缺陷密度 "+Object(a.toDisplayString)(e.tableData.allData.defect_density),1)])])),e.head?(Object(a.openBlock)(),Object(a.createBlock)(W,{key:1,fullscreen:e.isFullScreen,"onUpdate:fullscreen":t[2]||(t[2]=function(t){return e.isFullScreen=t})},null,8,["fullscreen"])):Object(a.createCommentVNode)("",!0),e.isOpen?(Object(a.openBlock)(),Object(a.createBlock)(K,{key:2,visible:e.isOpen,"onUpdate:visible":t[3]||(t[3]=function(t){return e.isOpen=t}),iteration:e.currentIteration},null,8,["visible","iteration"])):Object(a.createCommentVNode)("",!0)],2)}],["__scopeId","data-v-e482ac72"]]);t.default=_e},"9a6d":function(e,t,n){"use strict";n("39d7")},a8c1:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("3835"),r=n("1da1"),c=(n("96cf"),n("81ab")),o=n("38d1"),i=n("d257");function u(){var e=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.w)({asyncFunc:o.Y,args:t});case 2:if(n=e.sent,!Object(a.a)(n,1)[0]){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.w)({asyncFunc:o.Q,args:t});case 2:if(n=e.sent,r=Object(a.a)(n,2),c=r[0],u=r[1],!c&&u&&(!Array.isArray(u)||u.length)){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.w)({asyncFunc:o.P,args:{iteration_id:t,week:n}});case 2:if(r=e.sent,c=Object(a.a)(r,2),u=c[0],l=c[1],!u&&l){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{useUpdateDemand:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.w)({asyncFunc:c.M,args:t,needCode:!0});case 2:if(n=e.sent,r=Object(a.a)(n,1),"number"!=typeof(o=r[0])){e.next=9;break}return e.abrupt("return",200===o);case 9:if(!o){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),useSaveWeekReports:e,getWeekReportsList:t,getWeekReportsByWeek:n}}},aee8:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n("79f6"),r=n("b23d");function c(e){return a.a.get(r.a.montnlyStatistics,e)}function o(e){return e.pageSize=e.page_size,e.status||delete e.status,a.a.get(r.a.qualityOverflow,e)}function i(e){return a.a.get("".concat(r.a.iterationList+"/"+e.iteration_id+"/demand"),e)}},c845:function(e,t,n){},d882:function(e,t,n){},e122:function(e,t,n){},e6e8:function(e,t,n){"use strict";n("c845")},edb3:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n("1da1"),r=(n("96cf"),n("7db0"),n("4de4"),n("caad"),n("2532"),n("d3b7"),n("b0c0"),n("913c")),c=n("867b"),o=n("afbc"),i=n("0613"),u=n("2d40");function l(e,t){return s.apply(this,arguments)}function s(){return(s=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var a,l,s,d,p,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.product_id){e.next=7;break}return i.b.commit(u.a.updateProductId,t.product_id),(a=i.b.getters.productList.find((function(e){return e.id===t.product_id})))&&i.b.commit(u.a.updateProductInfo,a),l=Object(c.a)(),e.next=7,l(t.product_id).then((function(e){var n;return r.c.value=e,t.iteration_id?r.f.demand=t.iteration_id:r.f.demand=(null===(n=r.c.value[0])||void 0===n?void 0:n.id)||0,i.b.commit(u.a.updateIterateId,r.f.demand),i.b.commit(u.a.updateIterateList,e),i.b.commit(u.a.updateCurrentIter),Promise.resolve()}));case 7:3!==t.type&&(r.f.demand=t.iteration_id,i.b.commit(u.a.updateIterateId,r.f.demand)),(t.target_id||n)&&Object(r.g)(t.iteration_id),s=["homepage","projectExploitation","test"],d={projectExploitation:{baseName:"projectExploitation",query:{iteration_id:t.iteration_id,id:t.target_id,name:t.name,where:"workbench"}},homepage:{baseName:"homepage",query:{iterateId:t.iteration_id}},test:{baseName:"test",query:{detailId:t.target_id,name:t.obj_name,where:"workbench"}}},n?(p=o.a.resolve({path:"/project/iteration/homepage",query:{productId:t.product_id,iterateId:t.iteration_id,come:"lookBoard"}}),b=p.href,window.open(b,"_blank")):o.a.push({name:d[s[t.type-1]].baseName,query:d[s[t.type-1]].query});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){if(e.product_id){i.b.commit(u.a.updateProductId,e.product_id);var t=i.b.getters.productList.find((function(t){return t.id===e.product_id}));t&&i.b.commit(u.a.updateProductInfo,t),Object(c.a)()(e.product_id).then((function(t){if(r.c.value=t,0===e.iteration_id){var n;r.f.demand=(null===(n=r.c.value[0])||void 0===n?void 0:n.id)||null,i.b.commit(u.a.updateIterateId,e.iteration_id)}else{var a=r.c.value&&r.c.value.filter((function(t){return t.id===e.iteration_id}));r.f.demand=e.iteration_id,i.b.commit(u.a.updateIterateId,e.iteration_id),i.b.commit(u.a.updateCurrentIter,a[0]||null)}}))}[3,4,6].includes(e.type)||(r.f.demand=e.iteration_id,i.b.commit(u.a.updateIterateId,e.iteration_id)),e.target_id&&Object(r.g)(e.iteration_id);var n={homepage:{baseName:"homepage",query:{}},demandPool:{baseName:e.event.includes("demand-approval")?"approval":"demandPool",query:{name:e.event.includes("demand-approval")?"":e.obj_name,productId:e.product_id,auto:1,ids:e.obj_id,fromNotices:!0}},planManagement:{baseName:"planManagement",query:{name:e.obj_name,productId:e.product_id,where:"workbench"}},projectExploitation:{baseName:"projectExploitation",query:{iteration_id:e.iteration_id,detailId:e.obj_id,where:"workbench",form:"workbench"}},test:{baseName:"test",query:{detailId:e.obj_id,where:"workbench"}}},a=e.type>=3?["homepage","homepage","demandPool","planManagement","projectExploitation","test"][e.type-1]:"homepage";o.a.push({name:n[a].baseName,query:n[a].query})}}}]);