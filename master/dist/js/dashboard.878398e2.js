(window.webpackJsonp=window.webpackJsonp||[]).push([["dashboard","chunk-5bde6c20","chunk-30d081e7","chunk-ce7aa350"],{"0888":function(e,t,n){e.exports=n.p+"img/collapse-logo.bff2f349.png"},1568:function(e,t,n){"use strict";n.r(t);var a=n("1da1"),r=n("5530"),c=(n("96cf"),n("a9e3"),n("b64b"),n("7db0"),n("a434"),n("fb6a"),n("b0c0"),n("7a23")),o=n("d257"),l=n("9b06"),i=n("8897"),u=n("f461"),d=Object(c.defineComponent)({name:"CaretBottom"});const s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},b=Object(c.createVNode)("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"},null,-1);d.render=function(e,t,n,a,r,o){return Object(c.openBlock)(),Object(c.createBlock)("svg",s,[b])},d.__file="packages/components/CaretBottom.vue";var m=d,f=n("23c4"),p=n("aa80"),v=n("81ab"),j=n("38d1"),O=n("eaf6"),k=n("a4d4"),y=n("6c02"),g={class:"project-dynamics"},_={key:0,class:"timeline-groups"},h={key:0,class:"timeline-group"},w=["onClick"],V={key:0,class:"timeline-list"},x={class:"timeline-item-left"},D={class:"item-status"},B=["onClick"],N={class:"timeline-item-right"},C={key:1,class:"timeline-empty"},E=Object(c.defineComponent)(Object(r.a)(Object(r.a)({},{name:"panelTimeline"}),{},{props:{update:{type:Number,default:function(){return 0}}},emits:["lookDetail"],setup:function(e,t){var n=t.emit,r=e;Object(c.watch)((function(){return r.update}),(function(e,t){e&&e!=t&&M()}));var d=Object(c.ref)(0),s=Object(O.a)().tipMessage,b=Object(c.ref)(!1),E=Object(c.ref)({}),Y=Object(c.ref)({delay:!1,today:!1,tomorrow:!1,this_week:!1,this_month:!1,other:!1}),S=Object(c.ref)(!1),I=Object(c.ref)([]),M=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(){var t,n,a,r,c,o,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.value=!0,e.next=3,Object(i.h)();case 3:200===(t=e.sent).code&&t.data&&(I.value=Object.keys(t.data),E.value=t.data,n=t.data,a=n.delay,r=n.today,c=n.tomorrow,o=n.this_week,l=n.this_month,u=n.other,a&&a.length||r&&r.length||c&&c.length||o&&o.length||l&&l.length||u&&u.length?S.value=!1:S.value=!0),b.value=!1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e,t,n){var a=t.type,r=o.t.find((function(e){return e.value===a}));if(5===(null==r?void 0:r.value)){var c={id:[t.target_id],field:"demand_status"};"status"===n&&(c.demand_status=e),Object(j.q)(c).then((function(){M(),s(200,"成功")}))}else if(2===(null==r?void 0:r.value)){var l={ids:[t.target_id],field:n};"status"===n&&(l.status=e),Object(v.K)(l).then((function(e){200===e.code&&(M(),s(200,"成功"))}))}else if(3===(null==r?void 0:r.value)){var i={id:[t.target_id],field:n};"status"===n&&(i.status=e),Object(p.o)(i).then((function(e){200===e.code&&(M(),s(200,"成功"))}))}k.a.emit("drawStatus",!1)},R=Object(y.e)();k.a.on("drawStatus",(function(e){"/workbench/dashboard"===R.path&&(e||(d.value=0))}));var A=function(e,t){var n=o.t.find((function(t){return t.value===e}));return t?{background:null==n?void 0:n.color}:null==n?void 0:n.label};return Object(c.onMounted)((function(){M()})),function(e,t){var a=Object(c.resolveComponent)("el-icon"),r=Object(c.resolveComponent)("el-empty"),i=Object(c.resolveDirective)("loading");return Object(c.openBlock)(),Object(c.createElementBlock)("div",g,[S.value?(Object(c.openBlock)(),Object(c.createElementBlock)("div",C,[Object(c.createVNode)(r,{class:"todo-empty-img",style:{padding:"0","margin-top":"0px"},description:"暂无数据"})])):Object(c.withDirectives)((Object(c.openBlock)(),Object(c.createElementBlock)("div",_,[(Object(c.openBlock)(!0),Object(c.createElementBlock)(c.Fragment,null,Object(c.renderList)(I.value,(function(e,t){return Object(c.openBlock)(),Object(c.createElementBlock)("div",{class:"timeline-group",key:e},[E.value[e]?(Object(c.openBlock)(),Object(c.createElementBlock)("div",h,[Object(c.createElementVNode)("div",{class:"timeline-title",onClick:function(e){return function(e){if(0===e){var t,n=null===(t=Y.value)||void 0===t?void 0:t.delay;Y.value.delay=!n}else if(1===e){var a,r=null===(a=Y.value)||void 0===a?void 0:a.today;Y.value.today=!r}else if(2===e){var c,o=null===(c=Y.value)||void 0===c?void 0:c.tomorrow;Y.value.tomorrow=!o}else if(3===e){var l,i=null===(l=Y.value)||void 0===l?void 0:l.this_week;Y.value.this_week=!i}else if(4===e){var u,d=null===(u=Y.value)||void 0===u?void 0:u.this_month;Y.value.this_month=!d}else if(5===e){var s,b=null===(s=Y.value)||void 0===s?void 0:s.other;Y.value.other=!b}}(t)}},[Object(c.createVNode)(a,null,{default:Object(c.withCtx)((function(){return[Y.value[e]?(Object(c.openBlock)(),Object(c.createBlock)(Object(c.unref)(u.a),{key:0})):(Object(c.openBlock)(),Object(c.createBlock)(Object(c.unref)(m),{key:1}))]})),_:2},1024),Object(c.createTextVNode)(Object(c.toDisplayString)(["已延期","今天","明天","本周","本月","其他"][t]),1)],8,w),Y.value[e]?Object(c.createCommentVNode)("",!0):(Object(c.openBlock)(),Object(c.createElementBlock)("div",V,[(Object(c.openBlock)(!0),Object(c.createElementBlock)(c.Fragment,null,Object(c.renderList)(E.value[e],(function(e){return Object(c.openBlock)(),Object(c.createElementBlock)("div",{class:Object(c.normalizeClass)([d.value===e.id?"isActive":"","timeline-item"]),key:"timeline".concat(e.id)},[Object(c.createElementVNode)("div",x,[Object(c.createElementVNode)("span",{class:"type-status-tag",style:Object(c.normalizeStyle)(A(e.type,1))},Object(c.toDisplayString)(A(e.type,0)),5),Object(c.createElementVNode)("span",D,[Object(c.createVNode)(l.a,{valueKey:["value","label"],keyVal:"status",currentType:"status",currentVal:e.status,type:1,item:e,optionsData:(a=e.type,r=o.t.find((function(e){return e.value===a})),5===(null==r?void 0:r.value)?f.g:2===(null==r?void 0:r.value)?o.p:3===(null==r?void 0:r.value)?o.b.slice().splice(1,o.b.length):void 0),onOnChangeSelect:T},null,8,["currentVal","item","optionsData"])]),Object(c.createElementVNode)("span",{class:"item-name",onClick:Object(c.withModifiers)((function(t){return a=e,d.value=a.id,void n("lookDetail",a);var a}),["stop"])},Object(c.toDisplayString)(e.name),9,B)]),Object(c.createElementVNode)("div",N,[Object(c.createElementVNode)("span",{class:Object(c.normalizeClass)("item-time ".concat(0==t?"time-postpone":""))},Object(c.toDisplayString)(e.date),3)])],2);var a,r})),128))]))])):Object(c.createCommentVNode)("",!0)])})),128))])),[[i,b.value]])])}}})),Y=(n("b49c"),n("6b0d"));const S=n.n(Y)()(E,[["__scopeId","data-v-db674080"]]);t.default=S},"16a0":function(e,t,n){},"16df":function(e,t,n){"use strict";var a=n("1da1"),r=n("5530"),c=(n("b0c0"),n("96cf"),n("7a23")),o=n("59a4"),l=(n("a9e3"),n("fb6a"),n("7db0"),n("99af"),n("5a0c")),i=n.n(l),u=n("d257"),d=n("efa4"),s=n("b781"),b={class:"calendar-slot-tasks"},m={class:"calendar-slot-tasks"},f=["onClick"],p=Object(c.defineComponent)(Object(r.a)(Object(r.a)({},{name:"calendar-slot-tasks"}),{},{props:{tasksVisible:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},list:{type:Array,default:function(){return[]}}},emits:["update:tasksVisible","handleItem","lookDetail"],setup:function(e,t){var n=t.emit,r=e,l=Object(o.a)(),d=l.useHandleProductCache,s=l.productList,p=Object(c.computed)((function(){return r.tasksVisible})),v=Object(c.computed)((function(){var e=r.data.day;return"".concat(i()(e).format("YYYY[年]M[月]D[日]工作项"))})),j=function(){n("update:tasksVisible",!1)},O=function(e,t){var n=u.t.find((function(t){return t.value===e}));return t?{background:null==n?void 0:n.color}:null==n?void 0:n.label},k=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length||4===t.type){e.next=6;break}return e.next=3,d(t.product_id);case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:4===t.type?n("handleItem",t):n("lookDetail",t),j();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(t,n){var a=Object(c.resolveComponent)("el-dialog");return Object(c.openBlock)(),Object(c.createElementBlock)("div",b,[Object(c.createVNode)(a,{modelValue:Object(c.unref)(p),"onUpdate:modelValue":n[0]||(n[0]=function(e){return Object(c.isRef)(p)?p.value=e:null}),"append-to-body":"",title:Object(c.unref)(v),width:"30%","before-close":j},{default:Object(c.withCtx)((function(){return[Object(c.createElementVNode)("div",m,[(Object(c.openBlock)(!0),Object(c.createElementBlock)(c.Fragment,null,Object(c.renderList)(e.list,(function(e){return Object(c.openBlock)(),Object(c.createElementBlock)("p",{onClick:function(t){return k(e)},class:"calendar-slot-tasks__item",key:e.id},[Object(c.createElementVNode)("span",{class:"calendar-slot-tasks__item-span type-status-tag",style:Object(c.normalizeStyle)(O(e.type,1))},Object(c.toDisplayString)(O(e.type,0)),5),Object(c.createElementVNode)("span",{class:Object(c.normalizeClass)(3===e.status?"calendar-slot-tasks__item-pass":"")},Object(c.toDisplayString)(1===e.type?"".concat(e.name,"-").concat(null==e?void 0:e.iteration_node):e.name),3)],8,f)})),128))])]})),_:1},8,["modelValue","title"])])}}})),v=(n("49a2"),n("b520"),n("6b0d")),j=n.n(v),O=j()(p,[["__scopeId","data-v-00246142"]]),k=n("fbaf"),y={class:"work-calendar"},g={class:"work-calendar__day"},_={class:"work-calendar__list"},h=["onClick"],w={key:1,class:"work-calendar__list-span"},V={name:"CalendarSlot",components:{CalendarSlotTips:s.a,CalendarSlotTasks:O,HandleWaitDialog:d.a,HandlePerson:k.a}},x=Object(c.defineComponent)(Object(r.a)(Object(r.a)({},V),{},{props:{data:{type:Object,default:function(){return{}}},calendarList:{type:Array,default:function(){return[]}},calHeight:{type:Number,default:0}},emits:["updateData","lookDetail"],setup:function(e,t){var n=t.emit,r=e,l=Object(c.ref)(!1),b=Object(c.ref)(!1),m=Object(c.ref)(!1),f=Object(c.ref)(!1),p=Object(c.ref)(!1),v=Object(c.ref)(),j=Object(c.reactive)({department:[],team_worker:[],selectPerson:[],day:r.data,type:0,fromType:"",abeyancenEditItem:{}}),V=Object(c.ref)(),x=Object(c.ref)(0),D=Object(c.ref)(2),B=Object(o.a)(),N=B.useGetIterationDetail,C=B.useGetBackLogDetail,E=B.useGetBugDetail,Y=B.useGetTaskDetail;Object(c.watch)((function(){return l.value}),(function(e){m.value=e})),Object(c.watch)((function(){return r.calHeight}),(function(e){S()})),Object(c.watch)((function(){return r.calendarList}),(function(e){e&&Object(c.nextTick)((function(){return z()})),e&&(j.day=r.data)}),{deep:!0,immediate:!0});var S=function(){x.value=(r.calHeight-70)/5,x.value=x.value<80?80:x.value,D.value=Math.floor((x.value-50)/18)},I=Object(c.computed)((function(){var e=r.data.day;return i()(e).format("D")})),M=Object(c.computed)((function(){var e,t,n;return(null===(e=V.value)||void 0===e?void 0:e.length)<=D.value+1?[]:null===(t=V.value)||void 0===t?void 0:t.slice(D.value,null===(n=V.value)||void 0===n?void 0:n.length)})),T=function(e){p.value=e},R=function(e){var t=e.department,n=e.team_worker,a=e.selectPerson;j.department=t,j.team_worker=n,j.selectPerson=a},A=function(e){n("lookDetail",e)},L=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t){e.next=4;break}f.value=!0,e.next=7;break;case 4:if(a){e.next=6;break}return e.abrupt("return");case 6:n("lookDetail",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[N,Y,E],3!==t){e.next=5;break}return e.next=4,C({id:n,month:null===(c=r.data)||void 0===c?void 0:c.day});case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,a[t](n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e,t=r.data.day;if(!Array.isArray(r.calendarList))return[];V.value=null===(e=r.calendarList.find((function(e){return new Date(e.date).getTime()===new Date(t).getTime()})))||void 0===e?void 0:e.list},P=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t.type-1,t.target_id);case 2:n=e.sent,l.value=!0,n&&(j.abeyancenEditItem=n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){n("updateData"),b.value=!1,f.value=!1,j.abeyancenEditItem={}};return function(t,n){var a,r,o,i;return Object(c.openBlock)(),Object(c.createElementBlock)("div",{class:"work-calendar",style:Object(c.normalizeStyle)("height: ".concat(x.value||"","px"))},[Object(c.createElementVNode)("div",y,[Object(c.createElementVNode)("div",g,Object(c.toDisplayString)(Object(c.unref)(I)),1),Object(c.createElementVNode)("div",_,[(Object(c.openBlock)(!0),Object(c.createElementBlock)(c.Fragment,null,Object(c.renderList)(null===(a=V.value)||void 0===a?void 0:a.slice(0,V.value.length<=D.value+1?V.value.length:D.value),(function(e,t){return Object(c.openBlock)(),Object(c.createElementBlock)("div",{class:Object(c.normalizeClass)(["work-calendar__list-span",{"work-calendar__list-pass":3===e.status}]),key:t,onClick:Object(c.withModifiers)((function(t){return L(2,e)}),["stop"])},[Object(c.createElementVNode)("span",{class:"type-status-dot",style:Object(c.normalizeStyle)((n=e.type,1,a=u.t.find((function(e){return e.value===n})),{background:null==a?void 0:a.color}))},null,4),Object(c.createTextVNode)(" "+Object(c.toDisplayString)(1===e.type?"".concat(null==e?void 0:e.iteration_node,"-").concat(e.name):e.name),1)],10,h);var n,a})),128))]),null!==(r=Object(c.unref)(M))&&void 0!==r&&r.length?(Object(c.openBlock)(),Object(c.createElementBlock)("div",{key:0,class:"work-calendar__list-cal",onClick:n[0]||(n[0]=Object(c.withModifiers)((function(e){return L(1)}),["stop"]))},"还有"+Object(c.toDisplayString)(null===(o=Object(c.unref)(M))||void 0===o?void 0:o.length)+"个工作项",1)):Object(c.createCommentVNode)("",!0),null!==(i=Object(c.unref)(M))&&void 0!==i&&i.length||!m.value||!e.data.isSelected?Object(c.createCommentVNode)("",!0):(Object(c.openBlock)(),Object(c.createElementBlock)("div",w,Object(c.toDisplayString)("新建待办")))]),Object(c.createVNode)(d.a,{personInfo:Object(c.unref)(j),item:Object(c.unref)(j).abeyancenEditItem,onShow:T,onUpdateData:H,visible:l.value,"onUpdate:visible":n[1]||(n[1]=function(e){return l.value=e})},null,8,["personInfo","item","visible"]),Object(c.createVNode)(s.a,{personInfo:Object(c.unref)(j),onHandleItem:P,item:v.value,onUpdateData:H,type:Object(c.unref)(j).type,tipsVisible:b.value,"onUpdate:tipsVisible":n[2]||(n[2]=function(e){return b.value=e})},null,8,["personInfo","item","type","tipsVisible"]),Object(c.createVNode)(O,{onLookDetail:A,onHandleItem:n[3]||(n[3]=function(e){return L(2,e)}),data:e.data,list:V.value,tasksVisible:f.value,"onUpdate:tasksVisible":n[4]||(n[4]=function(e){return f.value=e})},null,8,["data","list","tasksVisible"]),Object(c.createVNode)(k.a,{onSubmit:R,visible:p.value,"onUpdate:visible":n[5]||(n[5]=function(e){return p.value=e}),item:Object(c.unref)(j).abeyancenEditItem},null,8,["visible","item"])],4)}}}));n("51ab");var D=j()(x,[["__scopeId","data-v-6dc4afdb"]]),B=n("0613"),N=n("2d40"),C=n("2ef0"),E={name:"work",components:{CalendarSlot:D}},Y=Object(c.defineComponent)(Object(r.a)(Object(r.a)({},E),{},{props:{formParams:{type:Object,default:function(){return{}}}},emits:["lookDetail"],setup:function(e,t){var n=t.expose,r=t.emit,l=e,u=Object(o.a)(),d=u.calendar,s=u.calendarList,b=u.useGetCarlenderInfo,m=Object(c.ref)(),f=Object(c.ref)(""),p=Object(B.c)(),v=Object(c.ref)(""),j=Object(c.ref)(!1);Object(c.watch)((function(){return l.formParams}),(function(e){e&&Object(c.nextTick)((function(){return y()}))}),{deep:!0,immediate:!0});var O=Object(c.computed)((function(){return s.value}));Object(c.watch)((function(){return f.value}),(function(e,t){var n=new Date(i()(e).format("YYYY-MM")).getTime(),r=new Date(i()(t).format("YYYY-MM")).getTime();new Date(i()(v.value).format("YYYY-MM")).getTime()!==n&&n!==r&&Object(c.nextTick)(Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:p.commit(N.a.updateCalendarDay,d.value.selectedDay.format("YYYY-MM")),v.value=d.value.selectedDay.format("YYYY-MM");case 4:case"end":return e.stop()}}),e)}))))}));var k=function(e){r("lookDetail",e)},y=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.value){e.next=2;break}return e.abrupt("return");case 2:j.value=!0,t=l.formParams,n=t.name,r=t.status,o=t.type,i=t.end_time,u=t.start_time,Object(c.nextTick)(Object(a.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=d.value.selectedDay)){e.next=4;break}return e.next=4,b({month:t.format("YYYY-MM"),name:n,status:r,type:o,end_time:i,start_time:u});case 4:j.value=!1;case 5:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n({changeMonth:function(e){d.value.selectDate(e),p.commit(N.a.updateCalendarDay,d.value.selectedDay.format("YYYY-MM"))},curDate:function(){return d.value.selectedDay.format("YYYY-MM")}}),Object(c.onMounted)((function(){var e,t;6===(t=document.getElementById("work-calendar").querySelectorAll(".el-calendar-table__row")).length&&t[5].remove(),y(),f.value=i()().format("YYYY-MM"),m.value=null===(e=d.value)||void 0===e?void 0:e.$el.getBoundingClientRect().height,p.commit(N.a.updateCalendarDay,f.value),v.value=f.value,window.addEventListener("resize",Object(C.throttle)((function(){var e;m.value=null===(e=d.value)||void 0===e?void 0:e.$el.getBoundingClientRect().height}),500),!1)})),function(e,t){var n=Object(c.resolveComponent)("el-calendar"),a=Object(c.resolveDirective)("loading");return Object(c.withDirectives)((Object(c.openBlock)(),Object(c.createBlock)(n,{ref_key:"calendar",ref:d,class:"work-calendar work-calendar-liner",id:"work-calendar",modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.value=e})},{dateCell:Object(c.withCtx)((function(e){var t=e.data;return[Object(c.createVNode)(D,{calendarList:Object(c.unref)(O),calHeight:m.value,onLookDetail:k,onUpdateData:y,data:t},null,8,["calendarList","calHeight","data"])]})),_:1},8,["modelValue"])),[[a,j.value]])}}}));n("3fc6");const S=Y;t.a=S},2078:function(e,t,n){},"25d0":function(e,t,n){},"37f0":function(e,t,n){},"38ea":function(e,t,n){},"3b99":function(e,t,n){},"3d90":function(e,t,n){"use strict";n("38ea")},"3fc6":function(e,t,n){"use strict";n("a142")},4484:function(e,t,n){},"49a2":function(e,t,n){"use strict";n("7967")},"51ab":function(e,t,n){"use strict";n("f4e2")},5378:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r={class:"dashboard-conntainer"},c={class:"dashboard"},o={class:"dashboard-left"},l={class:"dashboard-right"},i=n("5530"),u=(n("b0c0"),n("6c38")),d=n.n(u),s=n("0613"),b={class:"dashboard-head"},m={class:"head-tip"},f=Object(a.createStaticVNode)('<div class="tip-guide" data-v-ac8c6304><div class="guide-img" data-v-ac8c6304><img src="'+d.a+'" alt="" data-v-ac8c6304></div><ul class="tip-guide-btn" data-v-ac8c6304><li data-v-ac8c6304><span data-v-ac8c6304>办公指引：</span><a target="_blank" class="table-link" href="https://tomato.petrvet.com/document/padIframe?5TrAozCng" data-v-ac8c6304>给新员工的一封信</a></li><li data-v-ac8c6304><span data-v-ac8c6304>操作说明：</span><a target="_blank" class="table-link" href="https://tomato.petrvet.com/document/padIframe?5L6pZSU7g" data-v-ac8c6304>番茄操作说明</a></li><li data-v-ac8c6304><span data-v-ac8c6304>员工须知：</span><a class="table-link" target="_blank" href="https://tomato.petrvet.com/document/padIframe?xkmoZIU7R" data-v-ac8c6304> 迭代流程 <em data-v-ac8c6304>|</em></a><a class="table-link" target="_blank" href="https://tomato.petrvet.com/document/documentCenter?name=guifan" data-v-ac8c6304> 开发规范 </a></li></ul></div>',1),p=Object(a.defineComponent)(Object(i.a)(Object(i.a)({},{name:"userGuide"}),{},{setup:function(e){var t=Object(a.computed)((function(){var e={"早上好":{min:5,max:12},"中午好":{min:12,max:14},"下午好":{min:14,max:18},"晚上好":[{min:0,max:5},{min:18,max:25}]},t=+(new Date).getHours();function n(e){if(t>=e.min&&t<e.max)return!0}return function(){for(var t in e)if(Array.isArray(e[t])){for(var a=0;a<e[t].length;a++)if(n(e[t][a]))return t}else if(n(e[t]))return t}()})),n=Object(s.c)().getters,r=Object(a.computed)((function(){return n.user}));return function(e,n){return Object(a.openBlock)(),Object(a.createElementBlock)("div",b,[Object(a.createElementVNode)("div",m,[Object(a.createElementVNode)("h3",null,Object(a.toDisplayString)(Object(a.unref)(t))+"，"+Object(a.toDisplayString)(Object(a.unref)(r)&&Object(a.unref)(r).name)+"，欢迎使用Tomato",1),f])])}}})),v=(n("7b264"),n("6b0d")),j=n.n(v),O=j()(p,[["__scopeId","data-v-ac8c6304"]]),k=n("1da1"),y=(n("96cf"),n("0888")),g=n.n(y),_=n("8897"),h=n("afbc"),w=n("a4d4"),V=n("6c02"),x=function(e){return Object(a.pushScopeId)("data-v-4f2a95ee"),e=e(),Object(a.popScopeId)(),e},D={class:"dashboard-foot"},B={key:0,class:"project-item"},N=x((function(){return Object(a.createElementVNode)("div",{class:"title"},"我参与的项目",-1)})),C={class:"project-list"},E=["onClick"],Y=["src","alt"],S=["alt"],I={class:"name"},M={class:"project-statistics"},T=x((function(){return Object(a.createElementVNode)("div",{class:"title"},"待办工作统计",-1)})),R={class:"statistics-list"},A={class:"statistics-item item-1"},L=x((function(){return Object(a.createElementVNode)("span",{class:"desc"},"迭代",-1)})),U={class:"number"},z=x((function(){return Object(a.createElementVNode)("span",{class:"desc"},"工作项",-1)})),P={class:"number"},H=x((function(){return Object(a.createElementVNode)("span",{class:"desc"},"延期工作项",-1)})),F={class:"number"},G={class:"statistics-item item-4"},K=x((function(){return Object(a.createElementVNode)("span",{class:"desc"},"本月准时完成率",-1)})),J={class:"number"},q=x((function(){return Object(a.createElementVNode)("span",{class:"desc"},"缺陷数",-1)})),Q={class:"number"},W={class:"statistics-item item-6"},Z=x((function(){return Object(a.createElementVNode)("span",{class:"desc"},"本月缺陷密度",-1)})),$={class:"number"},X=Object(a.defineComponent)(Object(i.a)(Object(i.a)({},{name:"participate"}),{},{setup:function(e){var t=Object(V.e)(),n=Object(a.ref)(!1),r=Object(a.ref)([]),c=function(){var e=Object(k.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value=!0,e.next=3,Object(_.e)();case 3:200===(t=e.sent).code&&t.data&&(r.value=t.data),n.value=!1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=Object(a.ref)(!1),l=Object(a.ref)({}),i=function(){var e=Object(k.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.value=!0,e.next=3,Object(_.d)();case 3:200===(t=e.sent).code&&t.data&&(l.value=t.data),o.value=!1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){h.a.push({name:"workItem",params:{where:"dashboard"}})},d=function(e){h.a.push({name:"workItem",params:{where:"dashboardWork",type:e}})};return w.a.on("drawStatus",(function(e){t.path})),Object(a.onMounted)((function(){i(),c()})),function(e,t){var c,i,s,b,m,f,p=Object(a.resolveComponent)("el-tooltip"),v=Object(a.resolveDirective)("loading");return Object(a.openBlock)(),Object(a.createElementBlock)("div",D,[r.value.length?(Object(a.openBlock)(),Object(a.createElementBlock)("div",B,[N,Object(a.withDirectives)((Object(a.openBlock)(),Object(a.createElementBlock)("div",C,[(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(r.value,(function(e){return Object(a.openBlock)(),Object(a.createElementBlock)("span",{key:e.id,class:"project-item",onClick:function(t){return n=e.id,void h.a.push({name:"projectHome",query:{productId:n},params:{where:"dashboard"}});var n}},[e.logo?(Object(a.openBlock)(),Object(a.createElementBlock)("img",{key:0,src:e.logo,alt:e.name},null,8,Y)):(Object(a.openBlock)(),Object(a.createElementBlock)("img",{key:1,src:g.a,alt:e.name},null,8,S)),Object(a.createVNode)(p,{effect:"light",class:"item",content:e.name,placement:"bottom"},{default:Object(a.withCtx)((function(){return[Object(a.createElementVNode)("span",I,Object(a.toDisplayString)(e.name),1)]})),_:2},1032,["content"])],8,E)})),128))])),[[v,n.value]])])):Object(a.createCommentVNode)("",!0),Object(a.createElementVNode)("div",M,[T,Object(a.withDirectives)((Object(a.openBlock)(),Object(a.createElementBlock)("div",R,[Object(a.createElementVNode)("div",A,[L,Object(a.createElementVNode)("span",U,Object(a.toDisplayString)(null===(c=l.value)||void 0===c?void 0:c.todo_iteration_num),1)]),Object(a.createElementVNode)("div",{class:"statistics-item item-2",onClick:t[0]||(t[0]=function(e){return d(0)})},[z,Object(a.createElementVNode)("span",P,Object(a.toDisplayString)(null===(i=l.value)||void 0===i?void 0:i.todo_work_num),1)]),Object(a.createElementVNode)("div",{class:"statistics-item item-3",onClick:t[1]||(t[1]=function(e){return d(1)})},[H,Object(a.createElementVNode)("span",F,Object(a.toDisplayString)(null===(s=l.value)||void 0===s?void 0:s.delay_work_num),1)]),Object(a.createElementVNode)("div",G,[K,Object(a.createElementVNode)("span",J,Object(a.toDisplayString)(null===(b=l.value)||void 0===b?void 0:b.on_time_complete_rate)+"%",1)]),Object(a.createElementVNode)("div",{class:"statistics-item item-5",onClick:u},[q,Object(a.createElementVNode)("span",Q,Object(a.toDisplayString)(null===(m=l.value)||void 0===m?void 0:m.todo_bug_num),1)]),Object(a.createElementVNode)("div",W,[Z,Object(a.createElementVNode)("span",$,Object(a.toDisplayString)(null===(f=l.value)||void 0===f?void 0:f.defect_density),1)])])),[[v,o.value]])])])}}}));n("92d7");var ee=j()(X,[["__scopeId","data-v-4f2a95ee"]]),te=(n("a9e3"),n("d257")),ne=n("1568"),ae=(n("7db0"),n("5a0c")),re=n.n(ae),ce=n("16df"),oe=n("59a4"),le=n("c36d"),ie=n("e934"),ue={key:0,class:"project-dynamics-title"},de={class:"project-dynamics-timer"},se={key:1,class:"project-dynamics-list"},be=["onClick"],me={key:1,class:"todo-empty-container"},fe=Object(a.defineComponent)(Object(i.a)(Object(i.a)({},{name:"panelDynamics"}),{},{props:{type:{type:Number,default:function(){return 2}},update:{type:Number,default:function(){return 0}}},emits:["lookDetail"],setup:function(e,t){var n=t.emit,r=e,c=Object(V.e)(),o=Object(a.ref)(),l=Object(a.ref)(!1),i=Object(a.ref)(0),u=Object(a.ref)(),d=Object(a.ref)(),s=Object(a.reactive)({department:[],team_worker:[],selectPerson:[],day:{},type:4,abeyancenEditItem:{}}),b=Object(a.ref)(!1),m=Object(a.ref)(""),f=Object(a.reactive)({page_index:1,page_size:30,name:"",times:[],end_time:"",start_time:"",type:[],sort_name:"",sort_by:1}),p=Object(a.ref)([]),v=Object(a.ref)(!1);Object(a.watch)((function(){return r.update}),(function(e,t){e&&e!=t&&D()})),Object(a.watch)((function(){return r.type}),(function(e){1===e?(m.value="日历",Object(a.nextTick)((function(){return B("")}))):2===e?m.value="列表":3===e&&(m.value="TODO")})),Object(a.onMounted)((function(){m.value=Object(te.G)("dashboardSelectTab")?Object(te.G)("dashboardSelectTab"):"日历",D()}));var j=Object(oe.a)().useGetBackLogDetail,O=function(){var e=Object(k.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(k.a)(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!==t.type){e.next=7;break}return e.next=3,O({id:t.target_id,month:re()(t.start_time).format("YYYY-MM-DD")});case 3:(a=e.sent)&&(s.day={day:t.start_time},s.abeyancenEditItem=a,d.value=a,b.value=!0),e.next=9;break;case 7:i.value=t.id,n("lookDetail",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){n("lookDetail",e)};w.a.on("drawStatus",(function(e){"/workbench/dashboard"===c.path&&(e||(i.value=0,D()))}));var h,x=function(e,t){var n=te.t.find((function(t){return t.value===e}));return t?{background:null==n?void 0:n.color}:null==n?void 0:n.label},D=function(){var e=Object(k.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearTimeout(h),l.value=!0,h=setTimeout(Object(k.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=JSON.parse(JSON.stringify(f))).status=[1,2],e.next=4,Object(_.j)(t);case 4:(n=e.sent).data&&(p.value=n.data.list,v.value=0===n.data.count);case 6:case"end":return e.stop()}}),e)}))),300);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e){var t,n;if("down"===e)null===(n=u.value)||void 0===n||n.changeMonth("next-month");else if("up"===e){var a;null===(a=u.value)||void 0===a||a.changeMonth("prev-month")}o.value=null===(t=u.value)||void 0===t?void 0:t.curDate()};return function(t,n){var r=Object(a.resolveComponent)("el-empty");return Object(a.openBlock)(),Object(a.createElementBlock)("div",{class:"project-dynamics",key:"panel-".concat(e.type)},[1===e.type?(Object(a.openBlock)(),Object(a.createElementBlock)("div",ue,[Object(a.createElementVNode)("div",de,[Object(a.createVNode)(ie.a,{workRefs:u.value},null,8,["workRefs"])])])):Object(a.createCommentVNode)("",!0),2===e.type?(Object(a.openBlock)(),Object(a.createElementBlock)("div",se,[v.value?(Object(a.openBlock)(),Object(a.createElementBlock)("div",me,[Object(a.createVNode)(r,{class:"todo-empty-img",style:{padding:"0","margin-top":"0px"},description:"暂无数据"})])):(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,{key:0},Object(a.renderList)(p.value,(function(e,t){return Object(a.openBlock)(),Object(a.createElementBlock)("div",{class:Object(a.normalizeClass)([e.id===i.value?"active":"","dynamics-list-msg"]),key:t},[Object(a.createElementVNode)("span",{class:"type-status-tag",style:Object(a.normalizeStyle)(x(e.type,1))},Object(a.toDisplayString)(x(e.type,0)),5),Object(a.createElementVNode)("span",{class:Object(a.normalizeClass)("project-title ".concat(3===e.status?"color2":"color1")),onClick:Object(a.withModifiers)((function(t){return y(e)}),["stop"])},Object(a.toDisplayString)(e.name),11,be),e.end_time?(Object(a.openBlock)(),Object(a.createElementBlock)("span",{key:0,class:"project-time",style:Object(a.normalizeStyle)((n=e,n.is_delay?{backgroundColor:"#ffedec"}:{backgroundColor:"#f0f9ea"}))},Object(a.toDisplayString)(Object(a.unref)(re.a)(e.end_time).format("YYYY-MM-DD HH:mm")),5)):Object(a.createCommentVNode)("",!0)],2);var n})),128))])):Object(a.createCommentVNode)("",!0),1===e.type?(Object(a.openBlock)(),Object(a.createElementBlock)("div",{class:"project-dynamics-list",key:"work-calendar-".concat(e.update)},[Object(a.createVNode)(ce.a,{onLookDetail:g,ref_key:"workRefs",ref:u},null,512)])):Object(a.createCommentVNode)("",!0),3===e.type?(Object(a.openBlock)(),Object(a.createElementBlock)("div",{class:"project-dynamics-list",key:"todo-list-".concat(e.update)},[Object(a.createVNode)(le.default,{onLookDetail:g,formParams:Object(a.unref)(f),defaultMenu:m.value},null,8,["formParams","defaultMenu"])])):Object(a.createCommentVNode)("",!0)])}}}));n("d5c9");var pe=j()(fe,[["__scopeId","data-v-6843f284"]]),ve=n("4fba"),je={class:"dashboard-filter"},Oe={class:"title"},ke={class:"toolbar-list"},ye=[Object(a.createTextVNode)("更多"),function(e){return Object(a.pushScopeId)("data-v-982138b4"),e=e(),Object(a.popScopeId)(),e}((function(){return Object(a.createElementVNode)("i",{class:"iconfont icon-shuangjiantou-you"},null,-1)}))],ge={class:"dashboard-panel"},_e=Object(a.defineComponent)(Object(i.a)(Object(i.a)({},{name:"PanelProject"}),{},{setup:function(e){var t=Object(a.ref)(),n=Object(a.ref)(0),r=Object(a.ref)(0),c=Object(a.ref)(0),o=Object(a.ref)(0),l=Object(V.f)(),i=Object(a.reactive)({value:0,list:[{value:0,label:"时间轴"},{value:1,label:"日历"},{value:2,label:"列表"},{value:3,label:"看板"}]});Object(a.onMounted)((function(){u()}));var u=function(){var e=Object(te.G)("dashboardSelectTab");e&&("时间轴"===e?i.value=0:"日历"===e?i.value=1:"列表"===e?i.value=2:"TODO"!==e&&"看板"!==e||(i.value=3))},d=function(e){var t,n;Object(te.M)("dashboardSelectTab",null==i||null===(t=i.list[e])||void 0===t?void 0:t.label);var a,r={"日历":"1","列表":"0","看板":"2"};r[null==i||null===(n=i.list[e])||void 0===n?void 0:n.label]&&Object(te.M)("workItemDefauldTab",r[null==i||null===(a=i.list[e])||void 0===a?void 0:a.label])},s=function(e){t.value.handleDrawerVisble(!0),r.value===Number(e.target_id)&&t.value.getDetailData(Number(e.target_id)),n.value=e.type,r.value=Number(e.target_id),c.value=Number(e.product_id),o.value=Number(e.iteration_id)},b=Object(a.ref)(0),m=Object(a.ref)(0),f=function(){0==i.value?b.value++:m.value++},p=function(){l.push({name:"workItem",params:{type:1}})};return Object(a.watch)((function(){return i.value}),(function(e,t){e!=t&&(0==e?b.value++:m.value++)})),function(e,l){var u=Object(a.resolveComponent)("el-option"),v=Object(a.resolveComponent)("el-select");return Object(a.openBlock)(),Object(a.createElementBlock)(a.Fragment,null,[Object(a.createElementVNode)("div",je,[Object(a.createElementVNode)("div",Oe,Object(a.toDisplayString)(0===Object(a.unref)(i).value?"待办工作":"我的工作"),1),Object(a.createElementVNode)("div",ke,[Object(a.createVNode)(v,{class:Object(a.normalizeClass)("appear-type select".concat(Object(a.unref)(i).value)),modelValue:Object(a.unref)(i).value,"onUpdate:modelValue":l[0]||(l[0]=function(e){return Object(a.unref)(i).value=e}),onChange:d,placeholder:"请选择"},{default:Object(a.withCtx)((function(){return[(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(Object(a.unref)(i).list,(function(e){return Object(a.openBlock)(),Object(a.createBlock)(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["class","modelValue"]),Object(a.withDirectives)(Object(a.createElementVNode)("span",{onClick:p,class:"more"},ye,512),[[a.vShow,2===Object(a.unref)(i).value]])])]),Object(a.createElementVNode)("div",ge,[0===Object(a.unref)(i).value?(Object(a.openBlock)(),Object(a.createBlock)(ne.default,{key:0,onLookDetail:s,update:b.value},null,8,["update"])):(Object(a.openBlock)(),Object(a.createBlock)(pe,{key:1,onLookDetail:s,type:Object(a.unref)(i).value,update:m.value},null,8,["type","update"]))]),Object(a.createVNode)(ve.a,{type:n.value,targetId:r.value,productId:c.value,iterationId:o.value,ref_key:"workDrawer",ref:t,onRefresh:f},null,8,["type","targetId","productId","iterationId"])],64)}}}));n("71b3");var he=j()(_e,[["__scopeId","data-v-982138b4"]]),we=n("f592"),Ve={class:"item-time"},xe=Object(a.defineComponent)(Object(i.a)(Object(i.a)({},{name:"todoItem"}),{},{props:{data:{type:Object,default:function(){return{}}}},setup:function(e){var t=[{bg:"rgba(255, 75, 75, 0.1)",border:"#ff777e",color:"#333"},{bg:"rgba(255, 222, 99, 0.1)",border:"#ffde63",color:"#333"},{bg:"rgba(34, 163, 119, 0.1)",border:"#22A377",color:"#333"},{bg:"rgba(211, 223, 221, 0.2)",border:"#C9D8D5",color:"#999"}],n=function(e){if(e>=1){var n=t[e-1],a=n.bg,r=n.border;return{background:a,color:n.color,"border-left":"4px solid ".concat(r)}}};return function(t,r){var c,o,l,i;return Object(a.openBlock)(),Object(a.createElementBlock)("div",{key:null===(c=e.data)||void 0===c?void 0:c.id,class:"item",style:Object(a.normalizeStyle)(n(null===(o=e.data)||void 0===o?void 0:o.type))},[Object(a.createElementVNode)("span",Ve,Object(a.toDisplayString)(null===(l=e.data)||void 0===l?void 0:l.start_time),1),Object(a.createTextVNode)(Object(a.toDisplayString)(null===(i=e.data)||void 0===i?void 0:i.name),1)],4)}}}));n("c4a5");var De=j()(xe,[["__scopeId","data-v-6e48a30e"]]),Be=n("b781"),Ne=n("efa4"),Ce=n("fbaf"),Ee={class:"dashboard-todo"},Ye={class:"todo"},Se={class:"todo-top"},Ie={class:"todo-top-left"},Me=function(e){return Object(a.pushScopeId)("data-v-18fa1c90"),e=e(),Object(a.popScopeId)(),e}((function(){return Object(a.createElementVNode)("span",null,"我的待办",-1)})),Te={class:"todo-top-left"},Re=Object(a.createTextVNode)("新建待办"),Ae={key:0,class:"todo-empty"},Le={class:"todo-empty-text"},Ue=Object(a.createTextVNode)("当前暂无待办，点击"),ze=Object(a.createTextVNode)("创建待办"),Pe={key:1,class:"todo-scroll"},He=Object(a.defineComponent)(Object(i.a)(Object(i.a)({},{name:"todo"}),{},{setup:function(e){var t=Object(a.ref)(re()().format("YYYY-MM-DD")),n=Object(a.ref)(!1),r=Object(a.ref)(!1),c=Object(a.ref)(!1),o=Object(a.ref)(!1),l=Object(a.ref)(),i=Object(a.ref)({department:[],team_worker:[],selectPerson:[],day:{},type:4,abeyancenEditItem:{}}),u=Object(a.ref)(),d=Object(oe.a)(),s=d.useGetBackLogList,b=d.useGetBackLogDetail;Object(a.onMounted)((function(){m(t.value)}));var m=function(){var e=Object(k.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.value=!0,e.next=3,s({date:t});case 3:n=e.sent,Object(a.nextTick)((function(){o.value=!1})),n&&(u.value=null==n?void 0:n.list);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){r.value=e},p=function(){i.value.department=[],i.value.team_worker=[],i.value.selectPerson=[],i.value.abeyancenEditItem=[],i.value.day=t.value},v=function(){p(),l.value={},n.value=!1,c.value=!1,m(t.value)},j=function(e){var t=e.department,n=e.team_worker,a=e.selectPerson;i.value.department=t,i.value.team_worker=n,i.value.selectPerson=a},O=function(){var e=Object(k.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.value=t,n.value=!0;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(k.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){p(),n.value=!0},_=function(){var e=Object(k.a)(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({id:n.id,month:t.value});case 2:(a=e.sent)&&(p(),l.value=a,c.value=!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){m(e)};return function(e,d){var s,b=Object(a.resolveComponent)("el-date-picker"),m=Object(a.resolveComponent)("el-icon"),p=Object(a.resolveComponent)("el-dropdown-item"),k=Object(a.resolveComponent)("el-dropdown-menu"),y=Object(a.resolveComponent)("el-dropdown"),w=Object(a.resolveComponent)("el-empty"),V=Object(a.resolveComponent)("el-button"),x=Object(a.resolveDirective)("loading");return Object(a.openBlock)(),Object(a.createElementBlock)("div",Ee,[Object(a.createElementVNode)("div",Ye,[Object(a.createElementVNode)("div",Se,[Object(a.createElementVNode)("div",Ie,[Me,Object(a.createVNode)(b,{clearable:!1,"value-format":"YYYY-MM-DD",modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=function(e){return t.value=e}),type:"date",placeholder:"请选择",size:"default",style:{width:"150px","margin-left":"10px"},onChange:h},null,8,["modelValue"])]),Object(a.createElementVNode)("div",Te,[Object(a.createVNode)(y,null,{dropdown:Object(a.withCtx)((function(){return[Object(a.createVNode)(k,null,{default:Object(a.withCtx)((function(){return[Object(a.createVNode)(p,{onClick:g},{default:Object(a.withCtx)((function(){return[Re]})),_:1})]})),_:1})]})),default:Object(a.withCtx)((function(){return[Object(a.createVNode)(m,{onClick:g,size:22},{default:Object(a.withCtx)((function(){return[Object(a.createVNode)(Object(a.unref)(we.a))]})),_:1})]})),_:1})])]),null!==(s=u.value)&&void 0!==s&&s.length?Object(a.withDirectives)((Object(a.openBlock)(),Object(a.createElementBlock)("div",Pe,[(Object(a.openBlock)(!0),Object(a.createElementBlock)(a.Fragment,null,Object(a.renderList)(u.value,(function(e,t){return Object(a.openBlock)(),Object(a.createBlock)(De,{data:e,key:"todoitem".concat(t),onClick:function(t){return _(e)}},null,8,["data","onClick"])})),128))])),[[x,o.value]]):(Object(a.openBlock)(),Object(a.createElementBlock)("div",Ae,[Object(a.createVNode)(w,{class:"todo-empty-img",style:{padding:"0","margin-top":"0px"},description:" ","image-size":70}),Object(a.createElementVNode)("div",Le,[Ue,Object(a.createVNode)(V,{type:"primary",link:"",onClick:g},{default:Object(a.withCtx)((function(){return[ze]})),_:1})])]))]),Object(a.createVNode)(Ne.a,{personInfo:i.value,item:l.value,onShow:f,onUpdateData:v,visible:n.value,"onUpdate:visible":d[1]||(d[1]=function(e){return n.value=e})},null,8,["personInfo","item","visible"]),Object(a.createVNode)(Ce.a,{onSubmit:j,visible:r.value,"onUpdate:visible":d[2]||(d[2]=function(e){return r.value=e}),item:i.value.abeyancenEditItem},null,8,["visible","item"]),Object(a.createVNode)(Be.a,{personInfo:i.value,onHandleItem:O,item:l.value,type:4,onUpdateData:v,tipsVisible:c.value,"onUpdate:tipsVisible":d[3]||(d[3]=function(e){return c.value=e})},null,8,["personInfo","item","tipsVisible"])])}}}));n("3d90");var Fe={name:"dashboard",components:{UserGuide:O,Participate:ee,PanelProject:he,MyTodo:j()(He,[["__scopeId","data-v-18fa1c90"]])}};n("e915");const Ge=j()(Fe,[["render",function(e,t,n,i,u,d){var s=Object(a.resolveComponent)("panel-project"),b=Object(a.resolveComponent)("user-guide"),m=Object(a.resolveComponent)("my-todo"),f=Object(a.resolveComponent)("participate");return Object(a.openBlock)(),Object(a.createElementBlock)("div",r,[Object(a.createElementVNode)("div",c,[Object(a.createElementVNode)("div",o,[Object(a.createVNode)(s)]),Object(a.createElementVNode)("div",l,[Object(a.createVNode)(b),Object(a.createVNode)(m),Object(a.createVNode)(f)])])])}],["__scopeId","data-v-784b8902"]]);t.default=Ge},"593a":function(e,t,n){},"5e68":function(e,t,n){},"645d":function(e,t,n){"use strict";n("8992")},"64d0":function(e,t,n){},"6c38":function(e,t,n){e.exports=n.p+"img/use-guide-card-retina.a82998d9.png"},"71b3":function(e,t,n){"use strict";n("911c")},"74a8":function(e,t,n){"use strict";n("dcf2")},7967:function(e,t,n){},"7b264":function(e,t,n){"use strict";n("37f0")},"7b82":function(e,t,n){"use strict";n("593a")},"7cdb":function(e,t,n){"use strict";n("db8a")},"83a5":function(e,t,n){"use strict";n("aadb")},8992:function(e,t,n){},"8cfd":function(e,t,n){"use strict";n("8dc5")},"8dc5":function(e,t,n){},"8fa4f":function(e,t,n){"use strict";var a=n("5530"),r=(n("4de4"),n("caad"),n("2532"),n("b0c0"),n("7a23")),c=n("38d1"),o={class:"demand-origin"},l={style:{display:"flex","justify-content":"space-between","flex-wrap":"wrap"}},i={style:{"margin-right":"8px"}},u={style:{color:"var(--el-text-color-secondary)","font-size":"13px"}},d=Object(r.defineComponent)(Object(a.a)(Object(a.a)({},{name:"demand-origin"}),{},{props:{val:{type:String,default:function(){return""}}},emits:["updateOrigin"],setup:function(e,t){var n=t.emit,a=e,d=Object(r.ref)([]),s=Object(r.ref)(a.val),b=Object(r.ref)(!1),m=function(e){e?(b.value=!0,setTimeout((function(){f({name:e})}),200)):d.value=[]},f=function(e){Object(c.H)(e).then((function(t){t.data&&t.data.length?(b.value=!1,d.value=t.data.filter((function(t){return t.label.includes(e.name)}))):d.value=[]}))};Object(r.watch)((function(){return a.val}),(function(e){s.value=e}));var p=function(e){n("updateOrigin",e)};return function(e,t){var n=Object(r.resolveComponent)("el-select-v2");return Object(r.openBlock)(),Object(r.createElementBlock)("div",o,[Object(r.createVNode)(n,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.value=e}),style:{width:"100%"},filterable:"",remote:"",height:350,"remote-method":m,clearable:"",options:d.value,loading:b.value,onChange:p,placeholder:"请输入姓名"},{default:Object(r.withCtx)((function(e){var t=e.item;return[Object(r.createElementVNode)("div",l,[Object(r.createElementVNode)("span",i,Object(r.toDisplayString)(t.label),1),Object(r.createElementVNode)("span",u,Object(r.toDisplayString)(t.organization),1)])]})),_:1},8,["modelValue","options","loading"])])}}}));n("8cfd");const s=d;t.a=s},"911c":function(e,t,n){},"92d7":function(e,t,n){"use strict";n("db3a")},"9b06":function(e,t,n){"use strict";var a=n("5530"),r=(n("a9e3"),n("4de4"),n("7a23")),c=n("d257"),o={class:"rp-select-cop"},l={key:0,class:"dotted"},i=Object(r.defineComponent)(Object(a.a)(Object(a.a)({},{name:"inputOption"}),{},{props:{type:{require:!1,type:Number,default:1},showDot:{type:Boolean,default:function(){return!1}},optionsData:{type:Array,default:function(){return[]}},valueKey:{type:Array,default:function(){return["value","label"]}},currentVal:{type:[String,Number],default:function(){return""}},currentType:{type:String,default:function(){return""}},keyVal:{type:String,default:function(){return""}},item:{type:Object,default:function(){return{}}}},emits:["onChangeSelect"],setup:function(e,t){var n=t.emit,a=e;Object(r.useCssVars)((function(e){return{"015b3b3b":d.value,"015b3b3c":s.value}}));var i=Object(r.ref)(!1),u=Object(c.G)("user",!0),d=Object(r.ref)(""),s=Object(r.ref)(""),b=Object(r.ref)(""),m=Object(r.ref)();Object(r.watch)((function(){return a.item}),(function(){var e,t;if(null===(e=m.value)||void 0===e||e.blur(),"level"===a.currentType||"priority"===a.currentType||"type"===a.currentType)d.value=(null===(t=a.optionsData[a.currentVal-1])||void 0===t?void 0:t.color)||"#333",b.value=a.optionsData[a.currentVal-1][a.valueKey[1]];else if("staff_no"===a.currentType)s.value=(null==u?void 0:u.staff_no)===a.item.staff_no?"bolder":"normal",b.value=a.item.staff_name;else if("status"===a.currentType){var n,r=a.optionsData.filter((function(e){return e[a.valueKey[0]]===a.currentVal}));b.value=r[0]?r[0][a.valueKey[1]]:"",d.value=(null===(n=r[0])||void 0===n?void 0:n.color)||""}}),{immediate:!0});var f=function(){i.value=!0,setTimeout((function(){m.value.focus()}),200)},p=function(e){var t;null===(t=m.value)||void 0===t||t.blur(),n("onChangeSelect",e,a.item,a.keyVal)};return function(t,n){var a=Object(r.resolveComponent)("el-option"),c=Object(r.resolveComponent)("el-option-group"),u=Object(r.resolveComponent)("el-select");return Object(r.openBlock)(),Object(r.createElementBlock)("div",o,[e.showDot?(Object(r.openBlock)(),Object(r.createElementBlock)("em",l)):Object(r.createCommentVNode)("",!0),i.value?(Object(r.openBlock)(),Object(r.createBlock)(u,{key:2,class:"reset-select",modelValue:e.currentVal,"onUpdate:modelValue":n[0]||(n[0]=function(e){return Object(r.isRef)(currentVal)?currentVal.value=e:null}),ref_key:"selectRef",ref:m,onChange:p,filterable:"",placeholder:"请选择"},{default:Object(r.withCtx)((function(){return[e.type?(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,{key:0},Object(r.renderList)(e.optionsData,(function(t){return Object(r.openBlock)(),Object(r.createBlock)(a,{key:t[e.valueKey[0]],label:t[e.valueKey[1]],value:t[e.valueKey[0]]},null,8,["label","value"])})),128)):(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,{key:1},Object(r.renderList)(e.optionsData,(function(t){return Object(r.openBlock)(),Object(r.createBlock)(c,{key:t.label,label:t.label},{default:Object(r.withCtx)((function(){return[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(t.options,(function(t){return Object(r.openBlock)(),Object(r.createBlock)(a,{key:t[e.valueKey[0]],label:t[e.valueKey[1]],value:t[e.valueKey[0]]},null,8,["label","value"])})),128))]})),_:2},1032,["label"])})),128))]})),_:1},8,["modelValue"])):(Object(r.openBlock)(),Object(r.createElementBlock)("span",{key:1,class:"select-show",onClick:f},Object(r.toDisplayString)(b.value),1))])}}}));n("74a8");const u=i;t.a=u},"9c84":function(e,t,n){"use strict";n("5e68")},a142:function(e,t,n){},aadb:function(e,t,n){},b49c:function(e,t,n){"use strict";n("16a0")},b520:function(e,t,n){"use strict";n("3b99")},b781:function(e,t,n){"use strict";var a=n("1da1"),r=n("5530"),c=(n("96cf"),n("a9e3"),n("b0c0"),n("7db0"),n("a15b"),n("d81d"),n("99af"),n("4de4"),n("7a23")),o=n("59a4"),l=n("afbc"),i=n("23c4"),u=n("5a0c"),d=n.n(u),s=n("a4d4"),b=n("6b59"),m=n("7b31"),f=n("913c"),p=n("867b"),v=n("d257"),j=n("0613"),O=n("2d40"),k={class:"calendar-slot-tips"},y={class:"calendar-slot-tips__title"},g={key:0},_={class:"calendar-slot-tips__body"},h={key:0,class:"calendar-slot-tips__body-label"},w=Object(c.createTextVNode)(" 至 "),V={class:"calendar-slot-tips__footer"},x=Object(c.defineComponent)(Object(r.a)(Object(r.a)({},{name:"calendar-slot-dialog"}),{},{props:{tipsVisible:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},personInfo:{type:Object,default:function(){return{}}}},emits:["update:tipsVisible","handleItem","updateData"],setup:function(e,t){var n=t.emit,u=e,x=["iteration","task","bug","abeyancen"],D=Object(c.ref)(),B=Object(c.reactive)({abeyancen:{name:"",remark:"",type:"abeyancen",typeName:"待办",detailArr:[{id:0,label:"参与人",value:""},{id:1,label:"时间",type:"time",value:"",color:"",index:0},{id:2,label:"提醒",value:""},{id:3,label:"重复",value:""}],btns:[{id:0,label:"完成",icon:"circle-check",disabled:!1},{id:1,label:"编辑",icon:"edit",disabled:!1},{id:2,label:"删除",icon:"delete",disabled:!1}]},task:{name:"",type:"task",typeName:"任务",detailArr:[{id:0,label:"迭代",value:""},{id:1,label:"时间",type:"time",value:"",color:"",index:0},{id:2,label:"工时",value:""},{id:3,label:"优先级",value:"",color:""},{id:4,label:"状态",value:"",color:""}],btns:[{id:3,label:"完成",icon:"circle-check",disabled:!1},{id:4,label:"详情",icon:"view",disabled:!1},{id:5,label:"删除",icon:"delete",disabled:!1}]},iteration:{name:"",type:"iteration",typeName:"迭代",detailArr:[{id:0,label:"项目",value:""},{id:1,label:"开发",value:"",type:"time",color:"",index:0},{id:2,label:"联调",value:"",type:"time",color:"",index:0},{id:3,label:"测试",value:"",type:"time",color:"",index:0},{id:4,label:"进度",value:"",color:""}],btns:[{id:6,label:"查看详情",icon:"view",disabled:!1}]},bug:{name:"",type:"bug",typeName:"BUG",detailArr:[{id:0,label:"迭代",value:""},{id:1,label:"时间",value:""},{id:2,label:"环境",value:""},{id:3,label:"级别",value:"",color:""},{id:4,label:"状态",value:""}],btns:[{id:7,label:"解决",icon:"circle-check"},{id:8,label:"详情",icon:"view"}]}}),N=Object(v.G)("user",!0),C=Object(o.a)(),E=C.noticeOpts,Y=C.repeatOpt,S=C.useHandleBackLogStatus,I=C.useHandleTaskStatus,M=C.useUpdateBugStatus,T=C.useDelCalenderBackLog,R=Object(c.computed)((function(){return u.tipsVisible}));Object(c.watch)((function(){return u.tipsVisible}),(function(e){e&&q()}));var A=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){var c,o,i,m,k,y,g,_,h,w,V,x,D,B,N,C,E,Y,S,I,M,T,R,A,F,G,K,J,q,Q,W,Z,$,X,ee,te,ne;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=!0,i=null===(c=u.personInfo)||void 0===c?void 0:c.day,m=i?d()(i).format("YYYY-MM-DD"):d()().format("YYYY-MM-DD"),e.t0=t,e.next=0===e.t0?6:1===e.t0?13:2===e.t0?16:3===e.t0?20:4===e.t0?25:5===e.t0?29:6===e.t0?33:7===e.t0?37:8===e.t0?42:44;break;case 6:if(k=u.item,y=k.id,!(k.status>0)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,L(y,1,m);case 11:return o=e.sent,e.abrupt("break",44);case 13:return n("handleItem",Object(r.a)(Object(r.a)({},u.item),{},{type:4,target_id:u.item.id})),n("update:tipsVisible",!1),e.abrupt("return");case 16:return g=u.item,_=g.id,h=g.is_repeat,w=g.name,o=!1,b.a.confirm(w,"删除",{confirmButtonText:"删除将来所有的事件",cancelButtonText:"仅删除此事件",showConfirmButton:h>0,distinguishCancelAndClose:!0,callback:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("confirm"!==t&&"cancel"!==t){e.next=7;break}return e.next=3,U(_,"confirm"===t?2:1,m);case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return");case 6:s.a.emit("refreshBacklog");case 7:H();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),e.abrupt("break",44);case 20:return V=u.item.id,e.next=23,z(V,2);case 23:return o=e.sent,e.abrupt("break",44);case 25:return f.d.value===(null===(x=u.item)||void 0===x?void 0:x.product_id)?(f.f.demand=null===(E=u.item)||void 0===E?void 0:E.iteration_id,j.b.commit(O.a.updateIterateId,null===(Y=u.item)||void 0===Y?void 0:Y.iteration_id)):null!==(S=u.item)&&void 0!==S&&S.product_id&&(f.d.value=null===(I=u.item)||void 0===I?void 0:I.product_id,Object(v.Q)(u.item),j.b.commit(O.a.updateProductId,null===(M=u.item)||void 0===M?void 0:M.product_id),j.b.commit(O.a.updateProductInfo),Object(p.a)()(null===(T=u.item)||void 0===T?void 0:T.product_id).then((function(e){var t;f.c.value=e,f.f.demand=null===(t=u.item)||void 0===t?void 0:t.iteration_id,j.b.commit(O.a.updateIterateId,f.f.demand)}))),null!==(D=u.item)&&void 0!==D&&D.iteration_id&&(Object(f.g)(null===(R=u.item)||void 0===R?void 0:R.iteration_id),j.b.commit(O.a.updateIterateId,null===(A=u.item)||void 0===A?void 0:A.iteration_id)),l.a.push({name:"exploitation",query:{productId:null===(B=u.item)||void 0===B?void 0:B.product_id,iteration_id:null===(N=u.item)||void 0===N?void 0:N.iteration_id,name:null===(C=u.item)||void 0===C?void 0:C.name}}),e.abrupt("break",44);case 29:return F=u.item.id,o=!1,b.a.confirm("请确认是否删除该任务？","删除",{confirmButtonText:"确认",cancelButtonText:"取消",type:"error",callback:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("confirm"!==t){e.next=8;break}return e.next=3,z(F,999);case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return");case 6:s.a.emit("refreshBacklog"),H();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),e.abrupt("break",44);case 33:return f.d.value===(null===(G=u.item)||void 0===G?void 0:G.product.id)?(f.f.demand=null===(q=u.item)||void 0===q?void 0:q.id,j.b.commit(O.a.updateIterateId,f.f.demand)):null!==(Q=u.item)&&void 0!==Q&&Q.product.id&&(f.d.value=null===(W=u.item)||void 0===W?void 0:W.product.id,Object(v.Q)(u.item),j.b.commit(O.a.updateProductId,null===(Z=u.item)||void 0===Z?void 0:Z.product.id),j.b.commit(O.a.updateProductInfo),Object(p.a)()(null===($=u.item)||void 0===$?void 0:$.product.id).then((function(e){var t;f.c.value=e,f.f.demand=null===(t=u.item)||void 0===t?void 0:t.id,j.b.commit(O.a.updateIterateId,f.f.demand)}))),null!==(K=u.item)&&void 0!==K&&K.id&&(Object(f.g)(null===(X=u.item)||void 0===X?void 0:X.id),j.b.commit(O.a.updateIterateId,null===(ee=u.item)||void 0===ee?void 0:ee.id)),l.a.push({name:"homepage",query:{productId:null===(J=u.item)||void 0===J?void 0:J.product_id}}),e.abrupt("break",44);case 37:return te=u.item.id,e.next=40,P(te,2);case 40:return o=e.sent,e.abrupt("break",44);case 42:return l.a.push({name:"test",query:{id:null===(ne=u.item)||void 0===ne?void 0:ne.id}}),e.abrupt("break",44);case 44:o&&(s.a.emit("refreshBacklog"),H());case 45:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({id:t,status:n,month:a});case 2:return r=e.sent,m.a.success(r?"操作成功":"操作失败"),e.abrupt("return",!!r);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({id:t,type:n,month:a});case 2:return r=e.sent,m.a.success(r?"操作成功":"操作失败"),e.abrupt("return",!!r);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({ids:[t],status:n});case 2:return a=e.sent,m.a.success(a?"操作成功":"操作失败"),e.abrupt("return",!!a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({id:t,status:n});case 2:return a=e.sent,m.a.success(a?"操作成功":"操作失败"),e.abrupt("return",!!a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){n("updateData"),n("update:tipsVisible",!1)},F=function(e,t){var n=d()().format("YYYY-MM-DD");return t?e.real_end_time&&e.real_end_time>e.end_time?"#ff0000":4!==e.status||e.real_end_time?!e.real_end_time&&e.end_time<n?"#ff0000":"":"#ff0000":!e.status&&n>=e.begin_time||5===e.status&&!e.real_begin_time&&n>=e.begin_time?"#ff0000":4!==e.status||e.real_begin_time?e.real_begin_time&&e.real_begin_time>e.begin_time?"#ff0000":"":"#ff0000"},G=function(){var e=u.item;return e.complete_percent-e.time_percent},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=u.item,n=t.start_time,a=t.end_time,r=Date.now(),c=new Date(n).getTime(),o=new Date(a).getTime(),l=[c,o];return r>l[e]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=u.item,a=n.test_time,r=n.union_time,c=n.release_time,o=n.dev_time,l=n.real_dev_time,i=n.real_test_time,d=n.real_union_time,s=n.real_release_time,b=new Date(o).getTime(),m=new Date(a).getTime(),f=new Date(r).getTime(),p=new Date(c).getTime(),v=new Date(l).getTime(),j=new Date(i).getTime(),O=new Date(d).getTime();return new Date(s).getTime(),1===t?0===e?v>b:v>f:2===t?0===e?O>f:O>m:3===t&&(0===e?j>m:j>p)},q=function(){var e=x[u.type-1];switch(D.value=B[e],e){case"abeyancen":var t=u.item,n=t.create_by,a=t.name,r=t.department,c=t.participant,o=t.remark,l=t.start_time,d=t.end_time,s=t.ahead_time_enum,b=t.is_repeat,m=t.status,f=D.value;f.name=a,f.remark=o,f.btns[0].label=3===m?"已完成":"完成",f.btns[0].disabled=1===m,f.btns[1].disabled=(null==N?void 0:N.staff_no)!==n,f.btns[1].disabled=1===m;var p=c.map((function(e){return e.staff_name})).join("，"),v=r.map((function(e){return e.staff_name})).join("，");f.detailArr[0].value="".concat(p).concat(v?"，".concat(v):""),f.detailArr[1].value=[l,d],f.detailArr[1].color=K()?"#ff0000":"";var j=[K(),K(1)].filter((function(e){return e}));f.detailArr[1].index=j.length>1?2:j.indexOf(!0),f.detailArr[2].value=E[s-1].label,f.detailArr[3].value=Y[b].label;break;case"task":var O=u.item,k=O.name,y=O.iteration_name,g=O.begin_time,_=O.end_time,h=O.hours,w=O.level,V=O.status,C=D.value;C.name=k,C.detailArr[0].value=y,C.btns[0].disabled=2===V||3===V;var S=[F(u.item,0),F(u.item,1)].filter((function(e){return e}));C.detailArr[1].color=S.length?"#ff0000":"",C.detailArr[1].index=S.length>1?2:S.indexOf("#ff0000"),C.detailArr[1].value=[g,_],C.detailArr[2].value="".concat(h,"h"),C.detailArr[3].value=i.p[w-1].value,C.detailArr[4].value=i.v[V].label;break;case"iteration":var I=u.item,M=I.product,T=I.name,R=I.dev_time,A=I.test_time,L=I.union_time,U=I.release_time,z=I.complete_percent,P=I.status,H=D.value,q=function(e){var t=i.u.find((function(t){return t.value===e}));return null==t?void 0:t.label}(P);H.name="".concat(function(){var e,t=u.item,n=t.test_time,a=t.union_time,r=t.release_time,c=new Date(n).getTime(),o=new Date(a).getTime(),l=new Date(r).getTime(),i=null===(e=u.personInfo)||void 0===e?void 0:e.day,d=new Date(i).getTime();return d>=o&&d<c?"联调":d>=c&&d<l?"测试":d>=l?"发布":"开发"}(),"-").concat(T),H.detailArr[0].value=null==M?void 0:M.name,H.detailArr[1].value=[R,L];var Q=[J(0),J(1)].filter((function(e){return e}));H.detailArr[1].color=Q.length?"#ff0000":"",H.detailArr[1].index=Q.length>1?2:Q.indexOf(!0),H.detailArr[2].value=[L,L];var W=[J(0,2),J(1,2)].filter((function(e){return e}));H.detailArr[2].color=W.length?"#ff0000":"",H.detailArr[2].index=W.length>1?2:W.indexOf(!0),H.detailArr[3].value=[A,U];var Z=[J(0,3),J(1,3)].filter((function(e){return e}));H.detailArr[3].color=Z.length?"#ff0000":"",H.detailArr[3].index=Z.length>1?2:Z.indexOf(!0),H.detailArr[4].value="".concat(z,"% (").concat(q,"，").concat(G()>=0?"提前":"落后"," ").concat(Math.abs(G()),"%)"),H.detailArr[4].color=G()>0?"#1F9F85":"#ff0000";break;case"bug":var $=u.item,X=$.name,ee=$.iteration_name,te=$.create_time,ne=$.level,ae=$.status,re=$.env,ce=D.value;ce.name=X,ce.btns[0].label=2===ae?"已解决":"解决",ce.btns[0].disabled=2===ae,ce.detailArr[0].value=ee||"主干",ce.detailArr[1].value=te,ce.detailArr[2].value=i.j[re-1].value,ce.detailArr[3].value=i.b[ne-1].label,ce.detailArr[3].color=i.b[ne-1].color,ce.detailArr[4].value=i.c[ae+1].label}};return function(e,t){var n=Object(c.resolveComponent)("el-button"),a=Object(c.resolveComponent)("el-dialog");return Object(c.openBlock)(),Object(c.createElementBlock)("div",k,[Object(c.createVNode)(a,{"custom-class":"calendar-slot-tips",modelValue:Object(c.unref)(R),"onUpdate:modelValue":t[0]||(t[0]=function(e){return Object(c.isRef)(R)?R.value=e:null}),width:"500px","append-to-body":"","show-close":!1,"before-close":H},{footer:Object(c.withCtx)((function(){var e;return[Object(c.createElementVNode)("div",V,[(Object(c.openBlock)(!0),Object(c.createElementBlock)(c.Fragment,null,Object(c.renderList)(null===(e=D.value)||void 0===e?void 0:e.btns,(function(e){return Object(c.openBlock)(),Object(c.createBlock)(n,{onClick:function(t){return A(e.id)},disabled:e.disabled,key:e.id,class:"calendar-slot-tips__footer-icon",type:"text",icon:"el-icon-circle-check"},{default:Object(c.withCtx)((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.label),1)]})),_:2},1032,["onClick","disabled"])})),128))])]})),default:Object(c.withCtx)((function(){var e,t,n,a,r,o;return[Object(c.createElementVNode)("p",y,[Object(c.createElementVNode)("span",{class:Object(c.normalizeClass)(["calendar-slot-tips__tag","calendar-slot-tips__tag-".concat(null===(e=D.value)||void 0===e?void 0:e.type)])},Object(c.toDisplayString)(null===(t=D.value)||void 0===t?void 0:t.typeName),3),Object(c.createTextVNode)(Object(c.toDisplayString)(null===(n=D.value)||void 0===n?void 0:n.name),1)]),null!==(a=D.value)&&void 0!==a&&a.remark?(Object(c.openBlock)(),Object(c.createElementBlock)("span",g,Object(c.toDisplayString)(null===(r=D.value)||void 0===r?void 0:r.remark),1)):Object(c.createCommentVNode)("",!0),Object(c.createElementVNode)("div",_,[(Object(c.openBlock)(!0),Object(c.createElementBlock)(c.Fragment,null,Object(c.renderList)(null===(o=D.value)||void 0===o?void 0:o.detailArr,(function(e){return Object(c.openBlock)(),Object(c.createElementBlock)("p",{key:e.id},[e.value?(Object(c.openBlock)(),Object(c.createElementBlock)("span",h,Object(c.toDisplayString)(e.label)+"：",1)):Object(c.createCommentVNode)("",!0),"time"!==e.type?(Object(c.openBlock)(),Object(c.createElementBlock)("span",{key:1,style:Object(c.normalizeStyle)("color: ".concat(e.color))},Object(c.toDisplayString)(e.value),5)):(Object(c.openBlock)(),Object(c.createElementBlock)(c.Fragment,{key:2},[Object(c.createElementVNode)("span",{style:Object(c.normalizeStyle)([0===e.index||2===e.index?"color: ".concat(e.color):""])},Object(c.toDisplayString)(e.value[0]),5),w,Object(c.createElementVNode)("span",{style:Object(c.normalizeStyle)([1===e.index||2===e.index?"color: ".concat(e.color):""])},Object(c.toDisplayString)(e.value[1]),5)],64))])})),128))])]})),_:1},8,["modelValue"])])}}})),D=(n("9c84"),n("e37a"),n("6b0d"));const B=n.n(D)()(x,[["__scopeId","data-v-be6699d0"]]);t.a=B},c36d:function(e,t,n){"use strict";n.r(t);var a=n("2909"),r=n("1da1"),c=n("5530"),o=(n("96cf"),n("99af"),n("7db0"),n("b0c0"),n("7a23")),l=n("d257"),i=n("8897"),u=n("b781"),d=n("efa4"),s=n("fbaf"),b=n("59a4"),m=n("eaf6"),f=n("5a0c"),p=n.n(f),v=n("a4d4"),j=n("6c02"),O={class:"rp-work-todo"},k={class:"todo-list"},y={"infinite-scroll-immediate":!1,class:"todo-list-content"},g=["onClick"],_=Object(o.defineComponent)(Object(c.a)(Object(c.a)({},{name:"todoList"}),{},{props:{formParams:{type:Object,default:function(){return{}}},defaultMenu:{type:String,default:""}},emits:["updateData","lookDetail"],setup:function(e,t){var n,c=t.emit,f=e,_=Object(m.a)().tipMessage,h=Object(j.e)(),w=Object(o.ref)(!1),V=Object(o.ref)(!1),x=Object(o.ref)(!1),D=Object(o.ref)(),B=Object(o.reactive)({department:[],team_worker:[],selectPerson:[],day:{},type:4,abeyancenEditItem:{}}),N=JSON.parse(JSON.stringify(f.formParams)),C=Object(o.reactive)([{borderColor:"#737373",titleName:"todo",status:1,color:"#333",event:function(){C[0].page_index++,N.page_index=C[0].page_index,E(1)},listData:[],hasData:!0,page_index:1,page_size:30},{borderColor:"#1f9f85",titleName:"doing",event:function(){C[1].page_index++,N.page_index=C[1].page_index,E(2)},status:1,color:"#333",listData:[],hasData:!0,page_index:1,page_size:30},{borderColor:"#999",titleName:"done",event:function(){C[2].page_index++,N.page_index=C[2].page_index,E(3)},status:1,color:"#a0a0a0",listData:[],hasData:!0,page_index:1,page_size:30}]),E=function(e){clearTimeout(n),n=setTimeout(Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.k)(N);case 2:if(!(n=t.sent).data){t.next=35;break}if(r=n.data,c=r.doing_row,o=r.done_row,l=r.todo_row,!e){t.next=30;break}if(2!==e){t.next=14;break}if(c){t.next=11;break}return t.abrupt("return",_(200,"到底啦~~"));case 11:C[1].listData=[].concat(Object(a.a)(C[1].listData),Object(a.a)(c));case 12:t.next=28;break;case 14:if(3!==e){t.next=22;break}if(o){t.next=19;break}return t.abrupt("return",_(200,"到底啦~~"));case 19:C[2].listData=[].concat(Object(a.a)(C[2].listData),Object(a.a)(o));case 20:t.next=28;break;case 22:if(1!==e){t.next=28;break}if(l){t.next=27;break}return t.abrupt("return",_(200,"到底啦~~"));case 27:C[0].listData=[].concat(Object(a.a)(C[0].listData),Object(a.a)(l));case 28:t.next=33;break;case 30:C[0].listData=l||[],C[1].listData=c||[],C[2].listData=o||[];case 33:t.next=38;break;case 35:C[0].listData=[],C[1].listData=[],C[2].listData=[];case 38:case"end":return t.stop()}}),t)}))),500)},Y=function(e,t){var n=l.t.find((function(t){return t.value===e}));return t?{background:null==n?void 0:n.color}:null==n?void 0:n.label},S=Object(b.a)().useGetBackLogDetail,I=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!==t.type){e.next=7;break}return e.next=3,I({id:t.target_id,month:p()(t.start_time).format("YYYY-MM-DD")});case 3:(n=e.sent)&&(B.abeyancenEditItem=n,B.day={day:t.start_time},D.value=n,w.value=!0),e.next=8;break;case 7:c("lookDetail",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){c("updateData"),w.value=!1,E()};v.a.on("drawStatus",(function(e){if(("/workbench/dashboard"===h.path||"/workbench/workItem"===h.path)&&!e){var t=Object(l.G)("workItemDefauldTab");t&&"2"===t&&(N.page_index=1,N.page_size=30,E())}}));var R=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.value=!0;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){x.value=e},L=function(e){var t=e.department,n=e.team_worker,a=e.selectPerson;B.department=t,B.team_worker=n,B.selectPerson=a};return Object(o.watch)((function(){return f.formParams}),(function(){N=JSON.parse(JSON.stringify(f.formParams)),C[0].page_index=1,C[1].page_index=1,C[2].page_index=1,Object(o.nextTick)((function(){E()}))}),{deep:!0,immediate:!0}),Object(o.watch)((function(){return f.defaultMenu}),(function(){N=JSON.parse(JSON.stringify(f.formParams)),E()}),{deep:!0,immediate:!0}),function(e,t){var n=Object(o.resolveDirective)("infinite-scroll");return Object(o.openBlock)(),Object(o.createElementBlock)("div",O,[(Object(o.openBlock)(!0),Object(o.createElementBlock)(o.Fragment,null,Object(o.renderList)(Object(o.unref)(C),(function(e,t){return Object(o.openBlock)(),Object(o.createElementBlock)("div",{class:"todo-content",key:t},[Object(o.createElementVNode)("div",{class:"todo-list-title",style:Object(o.normalizeStyle)({borderColor:e.borderColor})},Object(o.toDisplayString)(e.titleName),5),Object(o.createElementVNode)("div",k,[Object(o.withDirectives)((Object(o.openBlock)(),Object(o.createElementBlock)("ul",y,[(Object(o.openBlock)(!0),Object(o.createElementBlock)(o.Fragment,null,Object(o.renderList)(e.listData,(function(t,n){return Object(o.openBlock)(),Object(o.createElementBlock)("li",{key:n,class:"todo-list-item",onClick:Object(o.withModifiers)((function(e){return M(t)}),["stop"])},[Object(o.createElementVNode)("span",{class:"type-status-tag",style:Object(o.normalizeStyle)(Y(t.type,1))},Object(o.toDisplayString)(Y(t.type,0)),5),Object(o.createElementVNode)("span",{class:"project-title",style:Object(o.normalizeStyle)({color:e.color})},Object(o.toDisplayString)(t.name),5)],8,g)})),128))])),[[n,e.event]])])])})),128)),Object(o.createVNode)(d.a,{personInfo:Object(o.unref)(B),onHandleItem:R,item:D.value,onShow:A,onUpdateData:T,visible:V.value,"onUpdate:visible":t[0]||(t[0]=function(e){return V.value=e})},null,8,["personInfo","item","visible"]),Object(o.createVNode)(u.a,{personInfo:Object(o.unref)(B),onHandleItem:R,item:D.value,type:4,onUpdateData:T,tipsVisible:w.value,"onUpdate:tipsVisible":t[1]||(t[1]=function(e){return w.value=e})},null,8,["personInfo","item","tipsVisible"]),Object(o.createVNode)(s.a,{onSubmit:L,visible:x.value,"onUpdate:visible":t[2]||(t[2]=function(e){return x.value=e}),item:Object(o.unref)(B).abeyancenEditItem},null,8,["visible","item"])])}}})),h=(n("645d"),n("6b0d"));const w=n.n(h)()(_,[["__scopeId","data-v-e294bfd6"]]);t.default=w},c4a5:function(e,t,n){"use strict";n("64d0")},d5c9:function(e,t,n){"use strict";n("25d0")},db3a:function(e,t,n){},db8a:function(e,t,n){},dcf2:function(e,t,n){},e37a:function(e,t,n){"use strict";n("4484")},e915:function(e,t,n){"use strict";n("2078")},e934:function(e,t,n){"use strict";var a=n("5530"),r=n("7a23"),c=n("0613"),o={class:"calendar-title"},l={class:"calendar-title__text"},i=Object(r.defineComponent)(Object(a.a)(Object(a.a)({},{name:"calendar-title"}),{},{props:{workRefs:{type:Object,default:function(){return{}}}},setup:function(e){var t=e,n=Object(c.c)().getters,a=Object(r.computed)((function(){return n.workCalendarDay})),i=function(e){var n;if("down"===e)null===(n=t.workRefs)||void 0===n||n.changeMonth("next-month");else if("up"===e){var a;null===(a=t.workRefs)||void 0===a||a.changeMonth("prev-month")}};return function(e,t){return Object(r.openBlock)(),Object(r.createElementBlock)("div",o,[Object(r.createElementVNode)("i",{onClick:t[0]||(t[0]=function(e){return i("up")}),class:"calendar-title__icon iconfont icon-arrowup"}),Object(r.createElementVNode)("span",l,Object(r.toDisplayString)(Object(r.unref)(a)),1),Object(r.createElementVNode)("i",{onClick:t[1]||(t[1]=function(e){return i("down")}),class:"calendar-title__icon iconfont icon-arrowdown"})])}}}));n("7b82");const u=i;t.a=u},efa4:function(e,t,n){"use strict";var a=n("1da1"),r=n("2909"),c=n("5530"),o=(n("96cf"),n("a15b"),n("d81d"),n("99af"),n("b64b"),n("159b"),n("b0c0"),n("7a23")),l=n("7b31"),i=n("2b5f"),u=n("5a0c"),d=n.n(u),s=n("a4d4"),b=n("59a4"),m={class:"wait-repeat"},f=Object(o.createTextVNode)("过滤节假日 "),p={class:"wait-footer"},v=Object(o.createTextVNode)("保存"),j=Object(o.defineComponent)(Object(c.a)(Object(c.a)({},{name:"waitDialog"}),{},{props:{visible:{type:Boolean,default:!1},personInfo:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},emits:["show","update:visible","updateData"],setup:function(e,t){var n=t.emit,u=e,j=Object(o.ref)(),O=Object(o.reactive)({cancelText:"更多 (参与人、提醒等)",showMore:!1,title:"新建待办",edit:!1}),k=Object(o.reactive)({name:"",remark:"",start_time:"",start_time_min:"",end_time:"",end_time_min:"",duration:1,ahead_time_enum:2,is_repeat:0,outName:"",filter_holiday:0,department:[],participant:[]}),y=Object(b.a)(),g=y.useSaveBackLog,_=y.timeOpts,h=y.noticeOpts,w=y.repeatOpt,V=function(e){var t=e||Date.now();k.start_time=d()(t).format("YYYY-MM-DD");var n=t;k.end_time=d()(n).format("YYYY-MM-DD");var a=d()().format("mm"),r=a[1],c=parseInt(r)<=5?5:0,o=parseInt(c?"".concat(a[0],"5"):"".concat(parseInt(a[0])+1,"0"))-parseInt(a);k.start_time_min=d()(new Date(t).getTime()+60*o*1e3).format("HH:mm"),k.end_time_min=d()(new Date(n).getTime()+60*o*1e3).format("HH:mm")};Object(o.watch)((function(){return u.personInfo}),(function(e){var t;if(k.outName=null===(t=e.selectPerson)||void 0===t?void 0:t.map((function(e){return e.staff_name})).join("，"),k.department=e.department,k.participant=e.team_worker,!u.item.id)if("calendar"===e.fromType)N();else{var n=d()().format("HH:mm");V("".concat(null==e?void 0:e.day," ").concat(n))}}),{deep:!0,immediate:!0}),Object(o.watch)((function(){return u.item}),(function(e){e&&Object.keys(e).length?(O.showMore=!0,O.cancelText="取消",O.edit=!0,Object.keys(k).forEach((function(t){if("outName"===t){var n,a,c,o,l=null===(n=e.department)||void 0===n||null===(a=n.map((function(e){return e.staff_name})))||void 0===a?void 0:a.join("，"),i=null===(c=e.participant)||void 0===c||null===(o=c.map((function(e){return e.staff_name})))||void 0===o?void 0:o.join("，");setTimeout((function(){k.outName="".concat(i).concat(l?"，".concat(l):"")}),200)}else if("end_time"===t||"start_time"===t){var u=d()(e[t]);"start_time"===t?(k.start_time=d()(e.start_time).format("YYYY-MM-DD"),k.start_time_min=u.format("HH:mm")):(k.end_time_min=u.format("HH:mm"),k.end_time=d()(e.end_time).format("YYYY-MM-DD"))}else if("department"===t||"participant"===t){var s,b=e[t].map((function(e){return"department"===t?parseInt(e.staff_no,10):e.staff_no}));(s=k[t]).push.apply(s,Object(r.a)(b))}else"end_time_min"!==t&&"start_time_min"!==t&&(k[t]=e[t])}))):(O.edit=!1,O.showMore=!1,O.cancelText="更多 (参与人、提醒等)",k.name="",k.remark="",k.duration=1,k.ahead_time_enum=2,k.is_repeat=0,k.outName="",k.filter_holiday=0,k.department=[],k.participant=[])}),{deep:!0,immediate:!0});var x=function(){n("show",!0)},D=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];O.showMore=!1,O.cancelText="更多 (参与人、提醒等)",t&&(null===(e=j.value)||void 0===e||e.resetFields(),k.name="",k.remark="",k.start_time=d()().format("YYYY-MM-DD"),k.end_time=d()().format("YYYY-MM-DD"),k.duration=1,k.ahead_time_enum=2,k.is_repeat=0,k.outName="",k.filter_holiday=0,k.department=[],k.participant=[],O.edit=!1)},B=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t){e.next=8;break}return e.next=3,C();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:e.next=13;break;case 8:if(2!==t||O.showMore){e.next=13;break}return O.showMore=!0,O.cancelText="取消",u.personInfo.fromType&&N(),e.abrupt("return");case 13:n("update:visible",!1),n("updateData"),D(!0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e,t=d()().format("HH:mm");V("".concat(null===(e=u.personInfo)||void 0===e?void 0:e.day," ").concat(t))},C=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=O.edit,""===(a=Object.assign({id:t?u.item.id:void 0},k)).name&&(a.name="待办事项"),!a.start_time||!a.start_time_min){e.next=7;break}a.start_time+=" ".concat(a.start_time_min),e.next=9;break;case 7:return l.a.warning("请选择开始时间"),e.abrupt("return",!1);case 9:if(7!==a.duration){e.next=16;break}if(!a.end_time||!a.end_time_min){e.next=14;break}a.end_time+=" ".concat(a.end_time_min),e.next=16;break;case 14:return l.a.warning("请选择结束时间"),e.abrupt("return",!1);case 16:if(void 0,void 0,void 0,void 0,void 0,o=k.start_time,i=k.end_time,d=k.duration,b=k.start_time_min,m=k.end_time_min,7!==d||new Date("".concat(o," ").concat(b)).getTime()<new Date("".concat(i," ").concat(m)).getTime()){e.next=19;break}return l.a.warning("开始时间不能大于结束时间"),e.abrupt("return");case 19:return delete a.start_time_min,delete a.end_time_min,delete a.outName,e.next=24,g(a);case 24:if(r=e.sent){e.next=27;break}return e.abrupt("return");case 27:return n("updateData",2,Object(c.a)(Object(c.a)({},r),{},{type:4})),s.a.emit("refreshBacklog"),e.abrupt("return",!0);case 30:case"end":return e.stop()}var o,i,d,b,m}),e)})));return function(){return e.apply(this,arguments)}}();return function(t,n){var a=Object(o.resolveComponent)("el-input"),r=Object(o.resolveComponent)("el-form-item"),c=Object(o.resolveComponent)("el-date-picker"),l=Object(o.resolveComponent)("el-time-select"),u=Object(o.resolveComponent)("el-option"),d=Object(o.resolveComponent)("el-select"),s=Object(o.resolveComponent)("el-checkbox"),b=Object(o.resolveComponent)("el-button"),y=Object(o.resolveComponent)("el-dialog");return Object(o.openBlock)(),Object(o.createBlock)(y,{"before-close":B,"close-on-press-escape":!1,"append-to-body":"",modelValue:e.visible,"onUpdate:modelValue":n[13]||(n[13]=function(e){return Object(o.isRef)(visible)?visible.value=e:null}),"custom-class":"handle-wait-dialog",title:Object(o.unref)(O).edit?"编辑待办":"新建待办",width:"500px"},{footer:Object(o.withCtx)((function(){return[Object(o.createElementVNode)("span",p,[Object(o.createVNode)(b,{onClick:n[11]||(n[11]=function(e){return B(2)}),class:"wait-footer__btn"},{default:Object(o.withCtx)((function(){return[Object(o.createTextVNode)(Object(o.toDisplayString)(Object(o.unref)(O).cancelText),1)]})),_:1}),Object(o.createVNode)(b,{onClick:n[12]||(n[12]=function(e){return B(1)}),class:"wait-footer__btn",type:"primary"},{default:Object(o.withCtx)((function(){return[v]})),_:1})])]})),default:Object(o.withCtx)((function(){return[Object(o.createVNode)(Object(o.unref)(i.a),{ref_key:"ruleFormRef",ref:j,model:Object(o.unref)(k),"label-position":"left","label-width":"60px"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(r,{"label-width":"0",prop:"name"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(a,{modelValue:Object(o.unref)(k).name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return Object(o.unref)(k).name=e}),modelModifiers:{trim:!0},autofocus:"autofocus",maxlength:"50",placeholder:"待办、日程、备忘名称"},null,8,["modelValue"])]})),_:1}),Object(o.createVNode)(r,{"label-width":"0",prop:"remark"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(a,{rows:"3",type:"textarea",maxlength:"300",modelValue:Object(o.unref)(k).remark,"onUpdate:modelValue":n[1]||(n[1]=function(e){return Object(o.unref)(k).remark=e}),modelModifiers:{trim:!0},placeholder:"备注，非必填"},null,8,["modelValue"])]})),_:1}),Object(o.withDirectives)(Object(o.createElementVNode)("div",null,[Object(o.createVNode)(r,{label:"参与人"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(a,{readonly:"",placeholder:"请选择",modelValue:Object(o.unref)(k).outName,"onUpdate:modelValue":n[2]||(n[2]=function(e){return Object(o.unref)(k).outName=e}),class:"handle-person__input"},null,8,["modelValue"]),Object(o.createElementVNode)("span",{class:"handle-person__input-span",onClick:x})]})),_:1}),Object(o.createVNode)(r,{prop:"start_time_min",class:"wait-form-time",label:"开始"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(c,{modelValue:Object(o.unref)(k).start_time,"onUpdate:modelValue":n[3]||(n[3]=function(e){return Object(o.unref)(k).start_time=e}),size:"default",type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:"请选择开始时间"},null,8,["modelValue"]),Object(o.createVNode)(l,{modelValue:Object(o.unref)(k).start_time_min,"onUpdate:modelValue":n[4]||(n[4]=function(e){return Object(o.unref)(k).start_time_min=e}),size:"default",start:"00:00",step:"00:05",end:"24:00",placeholder:"请选择时间"},null,8,["modelValue"])]})),_:1}),7===Object(o.unref)(k).duration?(Object(o.openBlock)(),Object(o.createBlock)(r,{key:0,label:"结束",prop:"end_time_min",class:"wait-form-time"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(c,{modelValue:Object(o.unref)(k).end_time,"onUpdate:modelValue":n[5]||(n[5]=function(e){return Object(o.unref)(k).end_time=e}),size:"default",type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:"请选择结束时间"},null,8,["modelValue"]),Object(o.createVNode)(l,{modelValue:Object(o.unref)(k).end_time_min,"onUpdate:modelValue":n[6]||(n[6]=function(e){return Object(o.unref)(k).end_time_min=e}),start:"00:00",step:"00:05",end:"24:00",placeholder:"请选择时间"},null,8,["modelValue"])]})),_:1})):Object(o.createCommentVNode)("",!0),Object(o.createVNode)(r,{label:"时长",prop:"duration"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(d,{modelValue:Object(o.unref)(k).duration,"onUpdate:modelValue":n[7]||(n[7]=function(e){return Object(o.unref)(k).duration=e}),placeholder:"请选择时长",class:"wait-form-item"},{default:Object(o.withCtx)((function(){return[(Object(o.openBlock)(!0),Object(o.createElementBlock)(o.Fragment,null,Object(o.renderList)(Object(o.unref)(_),(function(e){return Object(o.openBlock)(),Object(o.createBlock)(u,{key:e.id,label:e.label,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(o.createVNode)(r,{label:"提醒",prop:"remind_time"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(d,{modelValue:Object(o.unref)(k).ahead_time_enum,"onUpdate:modelValue":n[8]||(n[8]=function(e){return Object(o.unref)(k).ahead_time_enum=e}),placeholder:"请选择提醒时间",class:"wait-form-item"},{default:Object(o.withCtx)((function(){return[(Object(o.openBlock)(!0),Object(o.createElementBlock)(o.Fragment,null,Object(o.renderList)(Object(o.unref)(h),(function(e){return Object(o.openBlock)(),Object(o.createBlock)(u,{key:e.id,label:e.label,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(o.createVNode)(r,{label:"重复",prop:"filter_holiday"},{default:Object(o.withCtx)((function(){return[Object(o.createElementVNode)("div",m,[Object(o.createVNode)(d,{class:"wait-repeat__select",modelValue:Object(o.unref)(k).is_repeat,"onUpdate:modelValue":n[9]||(n[9]=function(e){return Object(o.unref)(k).is_repeat=e}),placeholder:"Select"},{default:Object(o.withCtx)((function(){return[(Object(o.openBlock)(!0),Object(o.createElementBlock)(o.Fragment,null,Object(o.renderList)(Object(o.unref)(w),(function(e){return Object(o.openBlock)(),Object(o.createBlock)(u,{key:e.id,label:e.label,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),Object(o.createVNode)(s,{modelValue:Object(o.unref)(k).filter_holiday,"onUpdate:modelValue":n[10]||(n[10]=function(e){return Object(o.unref)(k).filter_holiday=e}),"false-label":0,"true-label":1,class:"wait-repeat__check"},{default:Object(o.withCtx)((function(){return[f]})),_:1},8,["modelValue"])])]})),_:1})],512),[[o.vShow,Object(o.unref)(O).showMore]])]})),_:1},8,["model"])]})),_:1},8,["modelValue","title"])}}})),O=(n("7cdb"),n("83a5"),n("6b0d"));const k=n.n(O)()(j,[["__scopeId","data-v-29ac869c"]]);t.a=k},f461:function(e,t,n){"use strict";var a=n("7a23"),r=Object(a.defineComponent)({name:"CaretRight"});const c={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},o=Object(a.createVNode)("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1);r.render=function(e,t,n,r,l,i){return Object(a.openBlock)(),Object(a.createBlock)("svg",c,[o])},r.__file="packages/components/CaretRight.vue",t.a=r},f4e2:function(e,t,n){},f592:function(e,t,n){"use strict";var a=n("7a23"),r=Object(a.defineComponent)({name:"Plus"});const c={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},o=Object(a.createVNode)("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1);r.render=function(e,t,n,r,l,i){return Object(a.openBlock)(),Object(a.createBlock)("svg",c,[o])},r.__file="packages/components/Plus.vue",t.a=r}}]);